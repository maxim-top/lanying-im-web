/*! License information can be found in floo-2.0.0.js.LICENSE */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=280)}([function(t,e,n){"use strict";(function(t){var r=n(71);const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,s=(a=Object.create(null),t=>{const e=o.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const u=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:f}=Array,p=c("undefined");const l=u("ArrayBuffer");const d=c("string"),h=c("function"),y=c("number"),g=t=>null!==t&&"object"==typeof t,v=t=>{if("object"!==s(t))return!1;const e=i(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},m=u("Date"),b=u("File"),_=u("Blob"),E=u("FileList"),w=u("URLSearchParams");function A(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),f(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(r=0;r<i;r++)s=o[r],e.call(null,t[s],s,t)}}function S(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,C=t=>!p(t)&&t!==O;const N=(k="undefined"!=typeof Uint8Array&&i(Uint8Array),t=>k&&t instanceof k);var k;const R=u("HTMLFormElement"),T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),x=u("RegExp"),I=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};A(n,(n,o)=>{!1!==e(n,o,t)&&(r[o]=n)}),Object.defineProperties(t,r)};e.a={isArray:f,isArrayBuffer:l,isBuffer:function(t){return null!==t&&!p(t)&&null!==t.constructor&&!p(t.constructor)&&h(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>t&&("function"==typeof FormData&&t instanceof FormData||"[object FormData]"===o.call(t)||h(t.toString)&&"[object FormData]"===t.toString()),isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer),e},isString:d,isNumber:y,isBoolean:t=>!0===t||!1===t,isObject:g,isPlainObject:v,isUndefined:p,isDate:m,isFile:b,isBlob:_,isRegExp:x,isFunction:h,isStream:t=>g(t)&&h(t.pipe),isURLSearchParams:w,isTypedArray:N,isFileList:E,forEach:A,merge:function t(){const{caseless:e}=C(this)&&this||{},n={},r=(r,o)=>{const i=e&&S(n,o)||o;v(n[i])&&v(r)?n[i]=t(n[i],r):v(r)?n[i]=t({},r):f(r)?n[i]=r.slice():n[i]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&A(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:o}={})=>(A(e,(e,o)=>{n&&h(e)?t[o]=Object(r.a)(e,n):t[o]=e},{allOwnKeys:o}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,s,a;const u={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)a=o[s],r&&!r(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(f(t))return t;let e=t.length;if(!y(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:R,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:I,freezeMethods:t=>{I(t,(e,n)=>{if(h(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];h(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach(t=>{n[t]=!0})};return f(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:S,global:O,isContextDefined:C,toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(g(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=f(t)?[]:{};return A(t,(t,e)=>{const i=n(t,r+1);!p(i)&&(o[e]=i)}),e[r]=void 0,o}}return t};return n(t,0)}}}).call(this,n(91))},function(t,e,n){"use strict";t.exports=n(260)},function(t,e,n){"use strict";var r=n(0);function o(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.a.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{s[t]={value:t}}),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=(t,e,n,s,a,u)=>{const c=Object.create(i);return r.a.toFlatObject(t,c,(function(t){return t!==Error.prototype}),t=>"isAxiosError"!==t),o.call(c,t.message,e,n,s,a),c.cause=t,c.name=t.name,u&&Object.assign(c,u),c},e.a=o},function(t,e,n){for(var r=n(129),o=n(75),i=n(24),s=n(7),a=n(15),u=n(31),c=n(6),f=c("iterator"),p=c("toStringTag"),l=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),y=0;y<h.length;y++){var g,v=h[y],m=d[v],b=s[v],_=b&&b.prototype;if(_&&(_[f]||a(_,f,l),_[p]||a(_,p,v),u[v]=l,m))for(g in r)_[g]||i(_,g,r[g],!0)}},function(t,e,n){"use strict";var r,o,i=t.exports=n(18),s=n(161);i.codegen=n(271),i.fetch=n(272),i.path=n(273),i.fs=i.inquire("fs"),i.toArray=function(t){if(t){for(var e=Object.keys(t),n=new Array(e.length),r=0;r<e.length;)n[r]=t[e[r++]];return n}return[]},i.toObject=function(t){for(var e={},n=0;n<t.length;){var r=t[n++],o=t[n++];void 0!==o&&(e[r]=o)}return e};var a=/\\/g,u=/"/g;i.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},i.safeProp=function(t){return!/^[$\w_]+$/.test(t)||i.isReserved(t)?'["'+t.replace(a,"\\\\").replace(u,'\\"')+'"]':"."+t},i.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var c=/_([a-z])/g;i.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(c,(function(t,e){return e.toUpperCase()}))},i.compareFieldsById=function(t,e){return t.id-e.id},i.decorateType=function(t,e){if(t.$type)return e&&t.$type.name!==e&&(i.decorateRoot.remove(t.$type),t.$type.name=e,i.decorateRoot.add(t.$type)),t.$type;r||(r=n(163));var o=new r(e||t.name);return i.decorateRoot.add(o),o.ctor=t,Object.defineProperty(t,"$type",{value:o,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:o,enumerable:!1}),o};var f=0;i.decorateEnum=function(t){if(t.$type)return t.$type;o||(o=n(19));var e=new o("Enum"+f++,t);return i.decorateRoot.add(e),Object.defineProperty(t,"$type",{value:e,enumerable:!1}),e},i.setProperty=function(t,e,n){if("object"!=typeof t)throw TypeError("dst must be an object");if(!e)throw TypeError("path must be specified");return function t(e,n,r){var o=n.shift();if("__proto__"===o)return e;if(n.length>0)e[o]=t(e[o]||{},n,r);else{var i=e[o];i&&(r=[].concat(i).concat(r)),e[o]=r}return e}(t,e=e.split("."),n)},Object.defineProperty(i,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(171)))}})},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.xsync||(t.roots.xsync=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{Frame:{fields:{vsn:{type:"VSN",id:1},compress_method:{type:"CompressMethod",id:2},command:{type:"Command",id:3},payload:{type:"bytes",id:4},encrypt_method:{type:"EncryptMethod",id:5},encrypt_key:{type:"bytes",id:6},check_sum:{type:"uint32",id:7},tag:{type:"string",id:8}},nested:{VSN:{values:{XSYNC_V1:0,XSYNC_V2:1}},Command:{values:{UNREAD:0,SYNC:1,NOTICE:2,PROVISION:3}},CompressMethod:{values:{NONE:0,ZLIB:1}},EncryptMethod:{values:{ENCRYPT_NONE:0,AES_CBC_128:1,AES_CBC_256:2,CUSTOM:3}}}},Status:{fields:{code:{type:"ErrorCode",id:1},reason:{type:"string",id:2}},nested:{ErrorCode:{values:{UNKNOWN:0,OK:1,FAIL:2,UNKNOWN_COMMAND:3,PB_PARSER_ERROR:4,DECRYPT_FAILURE:5,PUBLIC_KEY_CHANGED:6,INVALID_TOKEN:7,INVALID_PARAMETER:8,UNAUTHORIZED:9,USER_FROZEN:10,USER_BANNED:11,WORD_CENSORED:12,TOO_MANY_DEVICES:13,ENCRYPT_METHOD_UNSUPPORTED:14,DEVICE_GUID_CONFLICT:15,CHECK_SUM_FAILURE:16,INVALID_LICENSE:17,LICENSE_LIMIT:18,APP_FROZEN:19}}}},ConversationUnread:{fields:{xid:{type:"XID",id:1},n:{type:"uint32",id:2},type:{type:"ConvType",id:3}},nested:{ConvType:{values:{UNKNOWN:0,CHAT:1,GROUPCHAT:2}}}},UnreadUL:{fields:{}},UnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"ConversationUnread",id:2}}},SyncUL:{fields:{xid:{type:"XID",id:1},key:{type:"uint64",id:2},meta:{type:"Meta",id:3},is_full_sync:{type:"bool",id:4},full_sync_num:{type:"sint32",id:5}}},SyncDL:{fields:{status:{type:"Status",id:1},metas:{rule:"repeated",type:"Meta",id:2},next_key:{type:"uint64",id:3},xid:{type:"XID",id:4},client_mid:{type:"uint64",id:5},server_mid:{type:"uint64",id:6},server_time:{type:"uint64",id:7},is_full_sync:{type:"bool",id:8},prev_mid:{type:"uint64",id:9},is_eager_sync:{type:"bool",id:10}}},Notice:{fields:{xid:{type:"XID",id:1}}},Provision:{fields:{status:{type:"Status",id:1},xid:{type:"XID",id:2},password:{type:"string",id:5},token:{type:"string",id:6},os_type:{type:"OsType",id:7},sdk_vsn:{type:"string",id:8},is_manual_login:{type:"bool",id:9},device_guid:{type:"string",id:10},device_notifier:{type:"string",id:11},device_token:{type:"string",id:12},device_info:{type:"string",id:13},last_login_time:{type:"uint64",id:14}},nested:{OsType:{values:{UNKNOWN:0,IOS:1,ANDR:2,WIN:3,OSX:4,LINUX:5,WEB:6}}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"XID",id:2},to:{type:"XID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6}},nested:{NameSpace:{values:{UNKNOWN:0,MESSAGE:1,GROUP_NOTICE:2,ROSTER_NOTICE:3,USER_NOTICE:4,INFO:5,CONVERSATION:6,PUSH:7}}}},XID:{fields:{uid:{type:"uint64",id:1},deviceSN:{type:"uint32",id:2}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r=n(77)("wks"),o=n(30),i=n(7).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function r(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function o(t){return!0===(t&&t.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=o;var i={},s={};function a(t,e){var n,r,o;return e?(o=0<=(t>>>=0)&&t<256)&&(r=s[t])?r:(n=c(t,(0|t)<0?-1:0,!0),o&&(s[t]=n),n):(o=-128<=(t|=0)&&t<128)&&(r=i[t])?r:(n=c(t,t<0?-1:0,!1),o&&(i[t]=n),n)}function u(t,e){if(isNaN(t))return e?m:v;if(e){if(t<0)return m;if(t>=h)return A}else{if(t<=-y)return S;if(t+1>=y)return w}return t<0?u(-t,e).neg():c(t%d|0,t/d|0,e)}function c(t,e,n){return new r(t,e,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=c;var f=Math.pow;function p(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return v;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return p(t.substring(1),e,n).neg();for(var o=u(f(n,8)),i=v,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+a),n);if(a<8){var l=u(f(n,a));i=i.mul(l).add(u(c))}else i=(i=i.mul(o)).add(u(c))}return i.unsigned=e,i}function l(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?p(t,e):c(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=p,r.fromValue=l;var d=4294967296,h=d*d,y=h/2,g=a(1<<24),v=a(0);r.ZERO=v;var m=a(0,!0);r.UZERO=m;var b=a(1);r.ONE=b;var _=a(1,!0);r.UONE=_;var E=a(-1);r.NEG_ONE=E;var w=c(-1,2147483647,!1);r.MAX_VALUE=w;var A=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=A;var S=c(0,-2147483648,!1);r.MIN_VALUE=S;var O=r.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},O.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var e=u(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=u(f(t,6),this.unsigned),i=this,s="";;){var a=i.div(o),c=(i.sub(a.mul(o)).toInt()>>>0).toString(t);if((i=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1==(1&this.low)},O.isEven=function(){return 0==(1&this.low)},O.equals=function(t){return o(t)||(t=l(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},O.eq=O.equals,O.notEquals=function(t){return!this.eq(t)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(t){return this.comp(t)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(t){return this.comp(t)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(t){return this.comp(t)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(t){return this.comp(t)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(t){if(o(t)||(t=l(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},O.neg=O.negate,O.add=function(t){o(t)||(t=l(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,f=0,p=0,d=0,h=0;return d+=(h+=i+(65535&t.low))>>>16,p+=(d+=r+u)>>>16,f+=(p+=n+a)>>>16,f+=e+s,c((d&=65535)<<16|(h&=65535),(f&=65535)<<16|(p&=65535),this.unsigned)},O.subtract=function(t){return o(t)||(t=l(t)),this.add(t.neg())},O.sub=O.subtract,O.multiply=function(t){if(this.isZero())return v;if(o(t)||(t=l(t)),n)return c(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return v;if(this.eq(S))return t.isOdd()?S:v;if(t.eq(S))return this.isOdd()?S:v;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(g)&&t.lt(g))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,a=t.high>>>16,f=65535&t.high,p=t.low>>>16,d=65535&t.low,h=0,y=0,m=0,b=0;return m+=(b+=s*d)>>>16,y+=(m+=i*d)>>>16,m&=65535,y+=(m+=s*p)>>>16,h+=(y+=r*d)>>>16,y&=65535,h+=(y+=i*p)>>>16,y&=65535,h+=(y+=s*f)>>>16,h+=e*d+r*p+i*f+s*a,c((m&=65535)<<16|(b&=65535),(h&=65535)<<16|(y&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(t){if(o(t)||(t=l(t)),t.isZero())throw Error("division by zero");var e,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:v;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return m;if(t.gt(this.shru(1)))return _;i=m}else{if(this.eq(S))return t.eq(b)||t.eq(E)?S:t.eq(S)?b:(e=this.shr(1).div(t).shl(1)).eq(v)?t.isNegative()?b:E:(r=this.sub(t.mul(e)),i=e.add(r.div(t)));if(t.eq(S))return this.unsigned?m:v;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=v}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),a=s<=48?1:f(2,s-48),p=u(e),d=p.mul(t);d.isNegative()||d.gt(r);)d=(p=u(e-=a,this.unsigned)).mul(t);p.isZero()&&(p=b),i=i.add(p),r=r.sub(d)}return i},O.div=O.divide,O.modulo=function(t){return o(t)||(t=l(t)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return c(~this.low,~this.high,this.unsigned)},O.and=function(t){return o(t)||(t=l(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},O.or=function(t){return o(t)||(t=l(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},O.xor=function(t){return o(t)||(t=l(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},O.shiftLeft=function(t){return o(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(t){return o(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(t){if(o(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?c(this.low>>>t|e<<32-t,e>>>t,this.unsigned):c(32===t?e:e>>>t-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},O.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},O.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e,n){t.exports=!n(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(13),o=n(114),i=n(72),s=Object.defineProperty;e.f=n(9)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(10),o=n(44);t.exports=n(9)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7),o=n(43),i=n(15),s=n(24),a=n(25),u=function(t,e,n){var c,f,p,l,d=t&u.F,h=t&u.G,y=t&u.S,g=t&u.P,v=t&u.B,m=h?r:y?r[e]||(r[e]={}):(r[e]||{}).prototype,b=h?o:o[e]||(o[e]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=e),n)p=((f=!d&&m&&void 0!==m[c])?m:n)[c],l=v&&f?a(p,r):g&&"function"==typeof p?a(Function.call,p):p,m&&s(m,c,p,t&u.U),b[c]!=p&&i(b,c,l),g&&_[c]!=p&&(_[c]=p)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(26),o=n(75);n(222)("keys",(function(){return function(t){return o(r(t))}}))},function(t,e,n){"use strict";(function(t){var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(158),r.base64=n(262),r.EventEmitter=n(263),r.float=n(264),r.inquire=n(159),r.utf8=n(265),r.pool=n(266),r.LongBits=n(267),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(91))},function(t,e,n){"use strict";t.exports=s;var r=n(40);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var o=n(46),i=n(4);function s(t,e,n,o,i){if(r.call(this,t,n),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,e)for(var s=Object.keys(e),a=0;a<s.length;++a)"number"==typeof e[s[a]]&&(this.valuesById[this.values[s[a]]=e[s[a]]]=s[a])}s.fromJSON=function(t,e){var n=new s(t,e.values,e.options,e.comment,e.comments);return n.reserved=e.reserved,n},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},s.prototype.add=function(t,e,n){if(!i.isString(t))throw TypeError("name must be a string");if(!i.isInteger(e))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[e]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[t]=e}else this.valuesById[this.values[t]=e]=t;return this.comments[t]=n||null,this},s.prototype.remove=function(t){if(!i.isString(t))throw TypeError("name must be a string");var e=this.values[t];if(null==e)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return o.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return o.isReservedName(this.reserved,t)}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";(function(t){var r=n(0),o=n(2),i=n(173);function s(t){return r.a.isPlainObject(t)||r.a.isArray(t)}function a(t){return r.a.endsWith(t,"[]")?t.slice(0,-2):t}function u(t,e,n){return t?t.concat(e).map((function(t,e){return t=a(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const c=r.a.toFlatObject(r.a,{},null,(function(t){return/^is[A-Z]/.test(t)}));e.a=function(e,n,f){if(!r.a.isObject(e))throw new TypeError("target must be an object");n=n||new(i.a||FormData);const p=(f=r.a.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!r.a.isUndefined(e[t])}))).metaTokens,l=f.visitor||m,d=f.dots,h=f.indexes,y=(f.Blob||"undefined"!=typeof Blob&&Blob)&&((g=n)&&r.a.isFunction(g.append)&&"FormData"===g[Symbol.toStringTag]&&g[Symbol.iterator]);var g;if(!r.a.isFunction(l))throw new TypeError("visitor must be a function");function v(e){if(null===e)return"";if(r.a.isDate(e))return e.toISOString();if(!y&&r.a.isBlob(e))throw new o.a("Blob is not supported. Use a Buffer instead.");return r.a.isArrayBuffer(e)||r.a.isTypedArray(e)?y&&"function"==typeof Blob?new Blob([e]):t.from(e):e}function m(t,e,o){let i=t;if(t&&!o&&"object"==typeof t)if(r.a.endsWith(e,"{}"))e=p?e:e.slice(0,-2),t=JSON.stringify(t);else if(r.a.isArray(t)&&function(t){return r.a.isArray(t)&&!t.some(s)}(t)||r.a.isFileList(t)||r.a.endsWith(e,"[]")&&(i=r.a.toArray(t)))return e=a(e),i.forEach((function(t,o){!r.a.isUndefined(t)&&null!==t&&n.append(!0===h?u([e],o,d):null===h?e:e+"[]",v(t))})),!1;return!!s(t)||(n.append(u(o,e,d),v(t)),!1)}const b=[],_=Object.assign(c,{defaultVisitor:m,convertValue:v,isVisitable:s});if(!r.a.isObject(e))throw new TypeError("data must be an object");return function t(e,o){if(!r.a.isUndefined(e)){if(-1!==b.indexOf(e))throw Error("Circular reference detected in "+o.join("."));b.push(e),r.a.forEach(e,(function(e,i){!0===(!(r.a.isUndefined(e)||null===e)&&l.call(n,e,r.a.isString(i)?i.trim():i,o,_))&&t(e,o?o.concat(i):[i])})),b.pop()}}(e),n}}).call(this,n(59).Buffer)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(7),o=n(15),i=n(22),s=n(30)("src"),a=n(184),u=(""+a).split("toString");n(43).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,s)||o(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var r=n(119);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(29);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(42),o=n(113);function i(e){return t.exports=i="function"==typeof r&&"symbol"==typeof o?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports={}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r,o=n(209),i=n(141),s=n(211),a=n(212),u=n(213);"undefined"!=typeof ArrayBuffer&&(r=n(214));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=c||f;e.protocol=3;var l=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=o(l),h={type:"error",data:"parser error"},y=n(215);function g(t,e,n){for(var r=new Array(t.length),o=a(t.length,n),i=function(t,n,o){e(n,(function(e,n){r[t]=n,o(e,r)}))},s=0;s<t.length;s++)i(s,t[s],o)}e.encodePacket=function(t,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=l[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}(t,n,o);if(void 0!==y&&i instanceof y)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(p)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(t.data)}(t,n,r);var o=new Uint8Array(1);o[0]=l[t.type];var i=new y([o.buffer,t.data]);return r(i)}(t,n,o);if(i&&i.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,o);var s=l[t.type];return void 0!==t.data&&(s+=r?u.encode(String(t.data),{strict:!1}):String(t.data)),o(""+s)},e.encodeBase64Packet=function(t,n){var r,o="b"+e.packets[t.type];if(void 0!==y&&t.data instanceof y){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),u=0;u<s.length;u++)a[u]=s[u];r=String.fromCharCode.apply(null,a)}return o+=btoa(r),n(o)},e.decodePacket=function(t,n,r){if(void 0===t)return h;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return h;var o=t.charAt(0);return Number(o)==o&&d[o]?t.length>1?{type:d[o],data:t.substring(1)}:{type:d[o]}:h}o=new Uint8Array(t)[0];var i=s(t,1);return y&&"blob"===n&&(i=new y([i])),{type:d[o],data:i}},e.decodeBase64Packet=function(t,e){var n=d[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&y&&(o=new y([o])),{type:n,data:o}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var o=i(t);if(n&&o)return y&&!p?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");g(t,(function(t,r){e.encodePacket(t,!!o&&n,!1,(function(t){r(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return r(e.join(""))}))},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===t)return r(h,0,1);for(var i,s,a="",u=0,c=t.length;u<c;u++){var f=t.charAt(u);if(":"===f){if(""===a||a!=(i=Number(a)))return r(h,0,1);if(a!=(s=t.substr(u+1,i)).length)return r(h,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),h.type===o.type&&h.data===o.data)return r(h,0,1);if(!1===r(o,u+i,c))return}u+=i,a=""}else a+=f}return""!==a?r(h,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));g(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var r=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[i++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]})),n(o.buffer)}))},e.encodePayloadAsBlob=function(t,n){g(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)s[o]=parseInt(i[o]);if(s[i.length]=255,y){var a=new y([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new y(e))}))},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var a=new Uint8Array(o),u=0===a[0],c="",f=1;255!==a[f];f++){if(c.length>310)return r(h,0,1);c+=a[f]}o=s(o,2+c.length),c=parseInt(c);var p=s(o,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var l=new Uint8Array(p);p="";for(f=0;f<l.length;f++)p+=String.fromCharCode(l[f])}i.push(p),o=s(o,c)}var d=i.length;i.forEach((function(t,o){r(e.decodePacket(t,n,!0),o,d)}))}},function(t,e,n){"use strict";var r=n(16),o=n(87)(6),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(85)(i)},function(t,e,n){t.exports=!n(63)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(37),o=n(66);t.exports=n(35)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(65),o=n(148),i=n(97),s=Object.defineProperty;e.f=n(35)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(98)("wks"),o=n(67),i=n(20).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(234),o=n(103);t.exports=function(t){return r(o(t))}},function(t,e,n){"use strict";t.exports=i,i.className="ReflectionObject";var r,o=n(4);function i(t,e){if(!o.isString(t))throw TypeError("name must be a string");if(e&&!o.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof r&&e._handleAdd(this)},i.prototype.onRemove=function(t){var e=t.root;e instanceof r&&e._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},i.prototype.getOption=function(t){if(this.options)return this.options[t]},i.prototype.setOption=function(t,e,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=e),this},i.prototype.setParsedOption=function(t,e,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var i=r.find((function(e){return Object.prototype.hasOwnProperty.call(e,t)}));if(i){var s=i[t];o.setProperty(s,n,e)}else(i={})[t]=o.setProperty({},n,e),r.push(i)}else{var a={};a[t]=e,r.push(a)}return this},i.prototype.setOptions=function(t,e){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)this.setOption(n[r],t[n[r]],e);return this},i.prototype.toString=function(){var t=this.constructor.className,e=this.fullName;return e.length?t+" "+e:t},i._configure=function(t){r=t}},function(t,e,n){"use strict";t.exports=c;var r=n(40);((c.prototype=Object.create(r.prototype)).constructor=c).className="Field";var o,i=n(19),s=n(47),a=n(4),u=/^required|optional|repeated$/;function c(t,e,n,o,i,c,f){if(a.isObject(o)?(f=i,c=o,o=i=void 0):a.isObject(i)&&(f=c,c=i,i=void 0),r.call(this,t,c),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==o&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!a.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=n,this.id=e,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=f}c.fromJSON=function(t,e){return new c(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(t,e,n){return"packed"===t&&(this._packed=null),r.prototype.setOption.call(this,t,e,n)},c.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},c.d=function(t,e,n,r){return"function"==typeof e?e=a.decorateType(e).name:e&&"object"==typeof e&&(e=a.decorateEnum(e).name),function(o,i){a.decorateType(o.constructor).add(new c(i,t,e,n,{default:r}))}},c._configure=function(t){o=t}},function(t,e,n){t.exports=n(228)},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=p;var r=n(40);((p.prototype=Object.create(r.prototype)).constructor=p).className="Namespace";var o,i,s,a=n(41),u=n(69),c=n(4);function f(t,e){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(e);return n}}function p(t,e){r.call(this,t,e),this.nested=void 0,this._nestedArray=null}function l(t){return t._nestedArray=null,t}p.fromJSON=function(t,e){return new p(t,e.options).addJSON(e.nested)},p.arrayToJSON=f,p.isReservedId=function(t,e){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=e&&t[n][1]>e)return!0;return!1},p.isReservedName=function(t,e){if(t)for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1},Object.defineProperty(p.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),p.prototype.toJSON=function(t){return c.toObject(["options",this.options,"nested",f(this.nestedArray,t)])},p.prototype.addJSON=function(t){if(t)for(var e,n=Object.keys(t),r=0;r<n.length;++r)e=t[n[r]],this.add((void 0!==e.fields?o.fromJSON:void 0!==e.values?s.fromJSON:void 0!==e.methods?i.fromJSON:void 0!==e.id?a.fromJSON:p.fromJSON)(n[r],e));return this},p.prototype.get=function(t){return this.nested&&this.nested[t]||null},p.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof s)return this.nested[t].values;throw Error("no such enum: "+t)},p.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof o||t instanceof s||t instanceof i||t instanceof p||t instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof p&&t instanceof p)||e instanceof o||e instanceof i)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=e.nestedArray,r=0;r<n.length;++r)t.add(n[r]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),l(this)},p.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},p.prototype.define=function(t,e){if(c.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;t.length>0;){var r=t.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof p))throw Error("path conflicts with non-namespace objects")}else n.add(n=new p(r))}return e&&n.addJSON(e),n},p.prototype.resolveAll=function(){for(var t=this.nestedArray,e=0;e<t.length;)t[e]instanceof p?t[e++].resolveAll():t[e++].resolve();return this.resolve()},p.prototype.lookup=function(t,e,n){if("boolean"==typeof e?(n=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),c.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var r=this.get(t[0]);if(r){if(1===t.length){if(!e||e.indexOf(r.constructor)>-1)return r}else if(r instanceof p&&(r=r.lookup(t.slice(1),e,!0)))return r}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof p&&(r=this._nestedArray[o].lookup(t,e,!0)))return r;return null===this.parent||n?null:this.parent.lookup(t,e)},p.prototype.lookupType=function(t){var e=this.lookup(t,[o]);if(!e)throw Error("no such type: "+t);return e},p.prototype.lookupEnum=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},p.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[o,s]);if(!e)throw Error("no such Type or Enum '"+t+"' in "+this);return e},p.prototype.lookupService=function(t){var e=this.lookup(t,[i]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},p._configure=function(t,e,n){o=t,i=e,s=n}},function(t,e,n){"use strict";var r=e,o=n(4),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(t,e){var n=0,r={};for(e|=0;n<t.length;)r[i[n+e]]=t[n++];return r}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},,function(t,e,n){var r=n(10).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(9)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){var r=n(117),o=n(29);t.exports=function(t){return r(o(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(23),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(24);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(10).f,o=n(22),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(128)(!0);n(82)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(198)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(88))},function(t,e,n){"use strict";(function(t){var r=n(202),o=n(203),i=n(204);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),o=(t=a(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):l(t,e);if("Buffer"===e.type&&i(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(f(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function h(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return N(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){var i,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var f=-1;for(i=n;i<a;i++)if(c(t,i)===c(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var p=!0,l=0;l<u;l++)if(c(t,i+l)!==c(e,l)){p=!1;break}if(p)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return q(F(e,t.length-n),t,n,r)}function E(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return E(t,e,n,r)}function A(t,e,n,r){return q(G(e),t,n,r)}function S(t,e,n,r){return q(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,u,c=t[o],f=null,p=c>239?4:c>223?3:c>191?2:1;if(o+p<=n)switch(p){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=p}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return p(null,t)},u.allocUnsafeSlow=function(t){return p(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(r,o),f=t.slice(e,n),p=0;p<a;++p)if(c[p]!==f[p]){i=c[p],s=f[p];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=j(t[i]);return o}function T(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function M(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,i){return i||M(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||M(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);I(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);I(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=u.isBuffer(t)?t:F(new u(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(91))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(216)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(88))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(45);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!0},function(t,e,n){"use strict";t.exports=s;var r=n(40);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var o=n(41),i=n(4);function s(t,e,n,o){if(Array.isArray(e)||(n=e,e=void 0),r.call(this,t,n),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=o}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}s.fromJSON=function(t,e){return new s(t,e.oneof,e.options,e.comment)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},s.prototype.add=function(t){if(!(t instanceof o))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},s.prototype.remove=function(t){if(!(t instanceof o))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},s.prototype.onAdd=function(t){r.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var n=t.get(this.oneof[e]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}a(this)},s.prototype.onRemove=function(t){for(var e,n=0;n<this.fieldsArray.length;++n)(e=this.fieldsArray[n]).parent&&e.parent.remove(e);r.prototype.onRemove.call(this,t)},s.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,n){i.decorateType(e.constructor).add(new s(n,t)),Object.defineProperty(e,n,{get:i.oneOfGetter(t),set:i.oneOfSetter(t)})}}},function(t,e,n){"use strict";const r=n(256),o=n(257),i=n(258),s=n(259);function a(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function c(t,e){return e.decode?o(t):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function l(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function d(t,e){a((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const o="string"==typeof n&&n.includes(t.arrayFormatSeparator),i="string"==typeof n&&!o&&c(n,t).includes(t.arrayFormatSeparator);n=i?c(n,t):n;const s=o||i?n.split(t.arrayFormatSeparator).map(e=>c(e,t)):null===n?n:c(n,t);r[e]=s};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){if(""===o)continue;let[t,s]=i(e.decode?o.replace(/\+/g," "):o,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:c(s,e),n(c(t,e),s,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=l(n[t],e);else r[t]=l(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=p,e.parse=d,e.stringify=(t,e)=>{if(!t)return"";a((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const n=n=>e.skipNull&&null==t[n]||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[u(e,t),"[",o,"]"].join("")]:[...n,[u(e,t),"[",u(o,t),"]=",u(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[u(e,t),"[]"].join("")]:[...n,[u(e,t),"[]=",u(r,t)].join("")];case"comma":case"separator":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(e,t),"=",u(r,t)].join("")]:[[n,u(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,u(e,t)]:[...n,[u(e,t),"=",u(r,t)].join("")]}}(e),o={};for(const e of Object.keys(t))n(e)||(o[e]=t[e]);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map(n=>{const o=t[n];return void 0===o?"":null===o?u(n,e):Array.isArray(o)?o.reduce(r(n),[]).join("&"):u(n,e)+"="+u(o,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=i(t,"#");return Object.assign({url:n.split("?")[0]||"",query:d(p(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,e)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=f(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query);let a=e.stringify(s,n);a&&(a="?"+a);let c=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(c="#"+u(t.fragmentIdentifier,n)),`${r}${a}${c}`},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:o,query:i,fragmentIdentifier:a}=e.parseUrl(t,r);return e.stringifyUrl({url:o,query:s(i,n),fragmentIdentifier:a},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?t=>!n.includes(t):(t,e)=>!n(t,e);return e.pick(t,o,r)}},function(t,e,n){"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(181),o=n(126);t.exports=n(186)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){var r=n(13),o=n(182),i=n(78),s=n(76)("IE_PROTO"),a=function(){},u=function(){var t,e=n(115)("iframe"),r=i.length;for(e.style.display="none",n(183).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(116),o=n(78);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(77)("keys"),o=n(30);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(43),o=n(7),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(53)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(31),o=n(6)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(81),o=n(6)("iterator"),i=n(31);t.exports=n(43).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(51),o=n(6)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var r=n(53),o=n(16),i=n(24),s=n(15),a=n(31),u=n(185),c=n(56),f=n(122),p=n(6)("iterator"),l=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,h,y,g,v){u(n,e,h);var m,b,_,E=function(t){if(!l&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",A="values"==y,S=!1,O=t.prototype,C=O[p]||O["@@iterator"]||y&&O[y],N=C||E(y),k=y?A?E("entries"):N:void 0,R="Array"==e&&O.entries||C;if(R&&(_=f(R.call(new t)))!==Object.prototype&&_.next&&(c(_,w,!0),r||"function"==typeof _[p]||s(_,p,d)),A&&C&&"values"!==C.name&&(S=!0,N=function(){return C.call(this)}),r&&!v||!l&&!S&&O[p]||s(O,p,N),a[e]=N,a[w]=d,y)if(m={values:A?N:E("values"),keys:g?N:E("keys"),entries:k},v)for(b in m)b in O||i(O,b,m[b]);else o(o.P+o.F*(l||S),e,m);return m}},function(t,e,n){var r=n(6)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(25),o=n(16),i=n(26),s=n(121),a=n(79),u=n(12),c=n(190),f=n(80);o(o.S+o.F*!n(83)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,p,l=i(t),d="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,g=void 0!==y,v=0,m=f(l);if(g&&(y=r(y,h>2?arguments[2]:void 0,2)),null==m||d==Array&&a(m))for(n=new d(e=u(l.length));e>v;v++)c(n,v,g?y(l[v],v):l[v]);else for(p=m.call(l),n=new d;!(o=p.next()).done;v++)c(n,v,g?s(p,y,[o.value,v],!0):o.value);return n.length=v,n}})},function(t,e,n){var r=n(6)("unscopables"),o=Array.prototype;null==o[r]&&n(15)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){n(191)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(25),o=n(117),i=n(26),s=n(12),a=n(193);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,p=6==t,l=5==t||p,d=e||a;return function(e,a,h){for(var y,g,v=i(e),m=o(v),b=r(a,h,3),_=s(m.length),E=0,w=n?d(e,_):u?d(e,0):void 0;_>E;E++)if((l||E in m)&&(g=b(y=m[E],E,v),t))if(n)w[E]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:w.push(y)}else if(f)return!1;return p?-1:c||f?f:w}}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,p=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):p=-1,c.length&&d())}function d(){if(!f){var t=a(l);f=!0;for(var e=c.length;e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n=1e3,r=6e4,o=60*r,i=24*o;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?s(a=t,i,"day")||s(a,o,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(199)("socket.io-parser"),o=n(32),i=n(201),s=n(136),a=n(137);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=p;var c=e.ERROR+'"encode error"';function f(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return c;n+=o}return r("encoded %j as %s",t,n),n}function p(){this.reconstructor=null}function l(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){i.removeBlobs(t,(function(t){var n=i.deconstructPacket(t),r=f(n.packet),o=n.buffers;o.unshift(r),e(o)}))}(t,n):n([f(t)])},o(p.prototype),p.prototype.add=function(t){var n;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return d("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var i=n+1;"-"!==t.charAt(++n)&&n!=t.length;);var a=t.substring(i,n);if(a!=Number(a)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(a)}if("/"===t.charAt(n+1)){for(i=n+1;++n;){if(","===(c=t.charAt(n)))break;if(n===t.length)break}o.nsp=t.substring(i,n)}else o.nsp="/";var u=t.charAt(n+1);if(""!==u&&Number(u)==u){for(i=n+1;++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(n===t.length)break}o.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){var f=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==f&&(o.type===e.ERROR||s(f))))return d("invalid payload");o.data=f}return r("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)}else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(207),o=n(93);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e,n){var r=n(33),o=n(32);function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=i,o(i.prototype),i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){"use strict";n(223);var r=n(13),o=n(96),i=n(9),s=/./.toString,a=function(t){n(24)(RegExp.prototype,"toString",t,!0)};n(14)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},function(t,e,n){"use strict";var r=n(13);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(45);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(64),o=n(20),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(68)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(37).f,o=n(27),i=n(38)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){e.f=n(38)},function(t,e,n){var r=n(20),o=n(64),i=n(68),s=n(100),a=n(37).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(151),o=n(106);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(98)("keys"),o=n(67);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports={}},function(t,e,n){"use strict";t.exports=p;var r,o=n(18),i=o.LongBits,s=o.base64,a=o.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function p(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var l=function(){return o.Buffer?function(){return(p.create=function(){return new r})()}:function(){return new p}};function d(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function y(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function g(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}p.create=l(),p.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},p.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},p.prototype.int32=function(t){return t<0?this._push(y,10,i.fromNumber(t)):this.uint32(t)},p.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},p.prototype.uint64=function(t){var e=i.from(t);return this._push(y,e.length(),e)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(y,e.length(),e)},p.prototype.bool=function(t){return this._push(d,1,t?1:0)},p.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(t){var e=i.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},p.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};p.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(o.isString(t)){var n=p.alloc(e=s.length(t));s.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},p.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(d,1,0)},p.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new u(c,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},p.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},p.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},p._configure=function(t){r=t,p.create=l(),r._configure()}},function(t,e,n){"use strict";t.exports=u;var r,o=n(18),i=o.LongBits,s=o.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")},p=function(){return o.Buffer?function(t){return(u.create=function(t){return o.Buffer.isBuffer(t)?new r(t):f(t)})(t)}:f};function l(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=p(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t,u.create=p(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return l.call(this)[e](!1)},uint64:function(){return l.call(this)[e](!0)},sint64:function(){return l.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},function(t,e,n){"use strict";t.exports=o;var r=n(18);function o(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}o.create=function(t){return this.$type.create(t)},o.encode=function(t,e){return this.$type.encode(t,e)},o.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},o.decode=function(t){return this.$type.decode(t)},o.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},o.verify=function(t){return this.$type.verify(t)},o.fromObject=function(t){return this.$type.fromObject(t)},o.toObject=function(t,e){return this.$type.toObject(t,e)},o.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,e,n){"use strict";var r,o,i=n(96),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(u=function(t){var e,n,r,o,u=this;return f&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),c&&(e=u.lastIndex),r=s.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),f&&r&&r.length>1&&a.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},function(t,e,n){t.exports=n(246)},function(t,e,n){t.exports=!n(9)&&!n(14)((function(){return 7!=Object.defineProperty(n(115)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(11),o=n(7).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(22),o=n(50),i=n(118)(!1),s=n(76)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(51);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(50),o=n(12),i=n(52);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),f=i(s,c);if(t&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(25),o=n(121),i=n(79),s=n(13),a=n(12),u=n(80),c={},f={};(e=t.exports=function(t,e,n,p,l){var d,h,y,g,v=l?function(){return t}:u(t),m=r(n,p,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(d=a(t.length);d>b;b++)if((g=e?m(s(h=t[b])[0],h[1]):m(t[b]))===c||g===f)return g}else for(y=v.call(t);!(h=y.next()).done;)if((g=o(y,m,h.value,e))===c||g===f)return g}).BREAK=c,e.RETURN=f},function(t,e,n){var r=n(13);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(22),o=n(26),i=n(76)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(7),o=n(10),i=n(9),s=n(6)("species");t.exports=function(t){var e=r[t];i&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(30)("meta"),o=n(11),i=n(22),s=n(10).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(14)((function(){return u(Object.preventExtensions({}))})),f=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},p=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&p.NEED&&u(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(189),o=n(44),i=n(50),s=n(72),a=n(22),u=n(114),c=Object.getOwnPropertyDescriptor;e.f=n(9)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(23),o=n(29);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(85),o=n(123),i=n(31),s=n(50);t.exports=n(82)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){for(var r,o=n(7),i=n(15),s=n(30),a=s("typed_array"),u=s("view"),c=!(!o.ArrayBuffer||!o.DataView),f=c,p=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(r=o[l[p++]])?(i(r.prototype,a,!0),i(r.prototype,u,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:a,VIEW:u}},function(t,e,n){var r=n(23),o=n(12);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(116),o=n(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(26),o=n(52),i=n(12);t.exports=function(t){for(var e=r(this),n=i(e.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){var r=n(13),o=n(119),i=n(6)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s,a,u=n.exec(t||""),c={},f=14;f--;)c[r[f]]=u[f]||"";return-1!=o&&-1!=i&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(t,e){var n=e.replace(/\/{2,9}/g,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1);"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1);return n}(0,c.path),c.queryKey=(s=c.query,a={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(a[e]=n)})),a),c}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(59).Buffer)},function(t,e,n){var r=n(205),o=n(144),i=n(32),s=n(90),a=n(145),u=n(146),c=n(58)("socket.io-client:manager"),f=n(143),p=n(221),l=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=d,d.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},d.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},i(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=a(n,"open",(function(){o.onopen(),t&&t()})),s=a(n,"error",(function(e){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u),0===u&&i.destroy();var f=setTimeout((function(){c("connect attempt timed out after %d",u),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(i),this.subs.push(s),this},d.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",u(this,"ondata"))),this.subs.push(a(t,"ping",u(this,"onping"))),this.subs.push(a(t,"pong",u(this,"onpong"))),this.subs.push(a(t,"error",u(this,"onerror"))),this.subs.push(a(t,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&i()}function i(){~f(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var r=n(92),o=n(208),i=n(217),s=n(218);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),e=t.hostname!==location.hostname||u!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)},e.websocket=s},function(t,e,n){var r=n(94),o=n(60),i=n(33),s=n(61),a=n(142),u=n(62)("engine.io-client:polling");t.exports=f;var c=null!=new(n(92))({xdomain:!1}).responseType;function f(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}s(f,r),f.prototype.name="polling",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},f.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},f.prototype.onData=function(t){var e=this;u("polling got data %s",t);i.decodePayload(t,this.socket.binaryType,(function(t,n,r){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},f.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},f.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(210),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,a=n.length;o<a;o++)if(t(n[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(this,n(59).Buffer)},function(t,e,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},s=0,a=0;function u(t){var e="";do{e=o[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function c(){var t=u(+new Date);return t!==r?(s=0,r=t):t+"."+u(s++)}for(;a<64;a++)i[o[a]]=a;c.encode=u,c.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+i[t.charAt(a)];return e},t.exports=c},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(90),o=n(32),i=n(220),s=n(145),a=n(146),u=n(58)("socket.io-client:socket"),c=n(60),f=n(141);t.exports=d;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=o.prototype.emit;function d(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},d.prototype.emit=function(t){if(p.hasOwnProperty(t))return l.apply(this,arguments),this;var e=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},d.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},d.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},d.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},d.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},d.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);u("sending ack %j",o),e.packet({type:f(o)?r.BINARY_ACK:r.ACK,id:t,data:o})}}},d.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},d.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(t){return this.flags.compress=t,this},d.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){var r=n(20),o=n(64),i=n(230),s=n(36),a=n(27),u=function(t,e,n){var c,f,p,l=t&u.F,d=t&u.G,h=t&u.S,y=t&u.P,g=t&u.B,v=t&u.W,m=d?o:o[e]||(o[e]={}),b=m.prototype,_=d?r:h?r[e]:(r[e]||{}).prototype;for(c in d&&(n=e),n)(f=!l&&_&&void 0!==_[c])&&a(m,c)||(p=f?_[c]:n[c],m[c]=d&&"function"!=typeof _[c]?n[c]:g&&f?i(p,r):v&&_[c]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):y&&"function"==typeof p?i(Function.call,p):p,y&&((m.virtual||(m.virtual={}))[c]=p,t&u.R&&b&&!b[c]&&s(b,c,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(35)&&!n(63)((function(){return 7!=Object.defineProperty(n(149)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(45),o=n(20).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){t.exports=n(36)},function(t,e,n){var r=n(27),o=n(39),i=n(235)(!1),s=n(105)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(103);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(65),o=n(239),i=n(106),s=n(105)("IE_PROTO"),a=function(){},u=function(){var t,e=n(149)("iframe"),r=i.length;for(e.style.display="none",n(240).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(151),o=n(106).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(68),o=n(147),i=n(150),s=n(36),a=n(108),u=n(249),c=n(99),f=n(250),p=n(38)("iterator"),l=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,h,y,g,v){u(n,e,h);var m,b,_,E=function(t){if(!l&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",A="values"==y,S=!1,O=t.prototype,C=O[p]||O["@@iterator"]||y&&O[y],N=C||E(y),k=y?A?E("entries"):N:void 0,R="Array"==e&&O.entries||C;if(R&&(_=f(R.call(new t)))!==Object.prototype&&_.next&&(c(_,w,!0),r||"function"==typeof _[p]||s(_,p,d)),A&&C&&"values"!==C.name&&(S=!0,N=function(){return C.call(this)}),r&&!v||!l&&!S&&O[p]||s(O,p,N),a[e]=N,a[w]=d,y)if(m={values:A?N:E("values"),keys:g?N:E("keys"),entries:k},v)for(b in m)b in O||i(O,b,m[b]);else o(o.P+o.F*(l||S),e,m);return m}},function(t,e,n){"use strict";t.exports=function(t,e){var n=new Array(arguments.length-1),r=0,o=2,i=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,s){n[r]=function(t){if(i)if(i=!1,t)s(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,s(t))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";e.Service=n(270)},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t){for(var e,n=i.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),a=t.fieldsArray.slice().sort(i.compareFieldsById),u=0;u<a.length;++u){var c=a[u].resolve(),f=t._fieldsArray.indexOf(c),p=c.resolvedType instanceof r?"int32":c.type,l=o.basic[p];e="m"+i.safeProp(c.name),c.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",e,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===l?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,e):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,p,e),n("}")("}")):c.repeated?(n("if(%s!=null&&%s.length){",e,e),c.packed&&void 0!==o.packed[p]?n("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",p,e)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",e),void 0===l?s(n,c,f,e+"[i]"):n("w.uint32(%i).%s(%s[i])",(c.id<<3|l)>>>0,p,e)),n("}")):(c.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",e,c.name),void 0===l?s(n,c,f,e):n("w.uint32(%i).%s(%s)",(c.id<<3|l)>>>0,p,e))}return n("return w")};var r=n(19),o=n(47),i=n(4);function s(t,e,n,r){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(e.id<<3|2)>>>0)}},function(t,e,n){"use strict";t.exports=m;var r=n(46);((m.prototype=Object.create(r.prototype)).constructor=m).className="Type";var o=n(19),i=n(69),s=n(41),a=n(164),u=n(165),c=n(111),f=n(110),p=n(109),l=n(4),d=n(162),h=n(167),y=n(168),g=n(169),v=n(170);function m(t,e){r.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var n=this.fields[t[e]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=l.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=l.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof c||((t.prototype=new c).constructor=t,l.merge(t.prototype,e)),t.$type=t.prototype.$type=this,l.merge(t,c,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:l.oneOfGetter(this._oneofsArray[n].oneof),set:l.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}}),m.generateConstructor=function(t){for(var e,n=l.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(e=t._fieldsArray[r]).map?n("this%s={}",l.safeProp(e.name)):e.repeated&&n("this%s=[]",l.safeProp(e.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(t,e){var n=new m(t,e.options);n.extensions=e.extensions,n.reserved=e.reserved;for(var c=Object.keys(e.fields),f=0;f<c.length;++f)n.add((void 0!==e.fields[c[f]].keyType?a.fromJSON:s.fromJSON)(c[f],e.fields[c[f]]));if(e.oneofs)for(c=Object.keys(e.oneofs),f=0;f<c.length;++f)n.add(i.fromJSON(c[f],e.oneofs[c[f]]));if(e.nested)for(c=Object.keys(e.nested),f=0;f<c.length;++f){var p=e.nested[c[f]];n.add((void 0!==p.id?s.fromJSON:void 0!==p.fields?m.fromJSON:void 0!==p.values?o.fromJSON:void 0!==p.methods?u.fromJSON:r.fromJSON)(c[f],p))}return e.extensions&&e.extensions.length&&(n.extensions=e.extensions),e.reserved&&e.reserved.length&&(n.reserved=e.reserved),e.group&&(n.group=!0),e.comment&&(n.comment=e.comment),n},m.prototype.toJSON=function(t){var e=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return l.toObject(["options",e&&e.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,t),"fields",r.arrayToJSON(this.fieldsArray.filter((function(t){return!t.declaringField})),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},m.prototype.resolveAll=function(){for(var t=this.fieldsArray,e=0;e<t.length;)t[e++].resolve();var n=this.oneofsArray;for(e=0;e<n.length;)n[e++].resolve();return r.prototype.resolveAll.call(this)},m.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},m.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof s&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),b(this)}return t instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),b(this)):r.prototype.add.call(this,t)},m.prototype.remove=function(t){if(t instanceof s&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),b(this)}if(t instanceof i){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),b(this)}return r.prototype.remove.call(this,t)},m.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},m.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)},m.prototype.create=function(t){return new this.ctor(t)},m.prototype.setup=function(){for(var t=this.fullName,e=[],n=0;n<this.fieldsArray.length;++n)e.push(this._fieldsArray[n].resolve().resolvedType);this.encode=d(this)({Writer:p,types:e,util:l}),this.decode=h(this)({Reader:f,types:e,util:l}),this.verify=y(this)({types:e,util:l}),this.fromObject=g.fromObject(this)({types:e,util:l}),this.toObject=g.toObject(this)({types:e,util:l});var r=v[t];if(r){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(o),o.toObject=this.toObject,this.toObject=r.toObject.bind(o)}return this},m.prototype.encode=function(t,e){return this.setup().encode(t,e)},m.prototype.encodeDelimited=function(t,e){return this.encode(t,e&&e.len?e.fork():e).ldelim()},m.prototype.decode=function(t,e){return this.setup().decode(t,e)},m.prototype.decodeDelimited=function(t){return t instanceof f||(t=f.create(t)),this.decode(t,t.uint32())},m.prototype.verify=function(t){return this.setup().verify(t)},m.prototype.fromObject=function(t){return this.setup().fromObject(t)},m.prototype.toObject=function(t,e){return this.setup().toObject(t,e)},m.d=function(t){return function(e){l.decorateType(e,t)}}},function(t,e,n){"use strict";t.exports=s;var r=n(41);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var o=n(47),i=n(4);function s(t,e,n,o,s,a){if(r.call(this,t,e,o,void 0,void 0,s,a),!i.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,e){return new s(t,e.id,e.keyType,e.type,e.options,e.comment)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(t,e,n){return"function"==typeof n?n=i.decorateType(n).name:n&&"object"==typeof n&&(n=i.decorateEnum(n).name),function(r,o){i.decorateType(r.constructor).add(new s(o,t,e,n))}}},function(t,e,n){"use strict";t.exports=a;var r=n(46);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var o=n(166),i=n(4),s=n(160);function a(t,e){r.call(this,t,e),this.methods={},this._methodsArray=null}function u(t){return t._methodsArray=null,t}a.fromJSON=function(t,e){var n=new a(t,e.options);if(e.methods)for(var r=Object.keys(e.methods),i=0;i<r.length;++i)n.add(o.fromJSON(r[i],e.methods[r[i]]));return e.nested&&n.addJSON(e.nested),n.comment=e.comment,n},a.prototype.toJSON=function(t){var e=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return i.toObject(["options",e&&e.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",e&&e.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),a.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},a.prototype.resolveAll=function(){for(var t=this.methodsArray,e=0;e<t.length;++e)t[e].resolve();return r.prototype.resolve.call(this)},a.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof o?(this.methods[t.name]=t,t.parent=this,u(this)):r.prototype.add.call(this,t)},a.prototype.remove=function(t){if(t instanceof o){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,u(this)}return r.prototype.remove.call(this,t)},a.prototype.create=function(t,e,n){for(var r,o=new s.Service(t,e,n),a=0;a<this.methodsArray.length;++a){var u=i.lcFirst((r=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");o[u]=i.codegen(["r","c"],i.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return o}},function(t,e,n){"use strict";t.exports=i;var r=n(40);((i.prototype=Object.create(r.prototype)).constructor=i).className="Method";var o=n(4);function i(t,e,n,i,s,a,u,c,f){if(o.isObject(s)?(u=s,s=a=void 0):o.isObject(a)&&(u=a,a=void 0),void 0!==e&&!o.isString(e))throw TypeError("type must be a string");if(!o.isString(n))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");r.call(this,t,u),this.type=e||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=i,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=f}i.fromJSON=function(t,e){return new i(t,e.type,e.requestType,e.responseType,e.requestStream,e.responseStream,e.options,e.comment,e.parsedOptions)},i.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},function(t,e,n){"use strict";t.exports=function(t){var e=i.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter((function(t){return t.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break");e("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),u=a.resolvedType instanceof r?"int32":a.type,c="m"+i.safeProp(a.name);e("case %i:",a.id),a.map?(e("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[a.keyType]?e("k=%j",o.defaults[a.keyType]):e("k=null"),void 0!==o.defaults[u]?e("value=%j",o.defaults[u]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===o.basic[u]?e("value=types[%i].decode(r,r.uint32())",n):e("value=r.%s()",u),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[a.keyType]?e('%s[typeof k==="object"?util.longToHash(k):k]=value',c):e("%s[k]=value",c)):a.repeated?(e("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[u]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===o.basic[u]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,n):e("%s.push(r.%s())",c,u)):void 0===o.basic[u]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,n):e("%s=r.%s()",c,u),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var f=t._fieldsArray[n];f.required&&e("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",s(f))}return e("return m")};var r=n(19),o=n(47),i=n(4);function s(t){return"missing required '"+t.name+"'"}},function(t,e,n){"use strict";t.exports=function(t){var e=o.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&e("var p={}");for(var u=0;u<t.fieldsArray.length;++u){var c=t._fieldsArray[u].resolve(),f="m"+o.safeProp(c.name);if(c.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",f,c.name),c.map)e("if(!util.isObject(%s))",f)("return%j",i(c,"object"))("var k=Object.keys(%s)",f)("for(var i=0;i<k.length;++i){"),a(e,c,"k[i]"),s(e,c,u,f+"[k[i]]")("}");else if(c.repeated)e("if(!Array.isArray(%s))",f)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",f),s(e,c,u,f+"[i]")("}");else{if(c.partOf){var p=o.safeProp(c.partOf.name);1===r[c.partOf.name]&&e("if(p%s===1)",p)("return%j",c.partOf.name+": multiple values"),r[c.partOf.name]=1,e("p%s=1",p)}s(e,c,u,f)}c.optional&&e("}")}return e("return null")};var r=n(19),o=n(4);function i(t,e){return t.name+": "+e+(t.repeated&&"array"!==e?"[]":t.map&&"object"!==e?"{k:"+t.keyType+"}":"")+" expected"}function s(t,e,n,o){if(e.resolvedType)if(e.resolvedType instanceof r){t("switch(%s){",o)("default:")("return%j",i(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)t("case %i:",e.resolvedType.values[s[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",o)("return%j",i(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',o)("return%j",i(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',o)("return%j",i(e,"boolean"));break;case"string":t("if(!util.isString(%s))",o)("return%j",i(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(e,"buffer"))}return t}function a(t,e,n){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",i(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",i(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",i(e,"boolean key"))}return t}},function(t,e,n){"use strict";var r=e,o=n(19),i=n(4);function s(t,e,n,r){if(e.resolvedType)if(e.resolvedType instanceof o){t("switch(d%s){",r);for(var i=e.resolvedType.values,s=Object.keys(i),a=0;a<s.length;++a)e.repeated&&i[s[a]]===e.typeDefault&&t("default:"),t("case%j:",s[a])("case %i:",i[s[a]])("m%s=%j",r,i[s[a]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var u=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function a(t,e,n,r){if(e.resolvedType)e.resolvedType instanceof o?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}r.fromObject=function(t){var e=t.fieldsArray,n=i.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!e.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<e.length;++r){var a=e[r].resolve(),u=i.safeProp(a.name);a.map?(n("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),s(n,a,r,u+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),s(n,a,r,u+"[i]")("}")("}")):(a.resolvedType instanceof o||n("if(d%s!=null){",u),s(n,a,r,u),a.resolvedType instanceof o||n("}"))}return n("return m")},r.toObject=function(t){var e=t.fieldsArray.slice().sort(i.compareFieldsById);if(!e.length)return i.codegen()("return {}");for(var n=i.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],s=[],u=[],c=0;c<e.length;++c)e[c].partOf||(e[c].resolve().repeated?r:e[c].map?s:u).push(e[c]);if(r.length){for(n("if(o.arrays||o.defaults){"),c=0;c<r.length;++c)n("d%s=[]",i.safeProp(r[c].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),c=0;c<s.length;++c)n("d%s={}",i.safeProp(s[c].name));n("}")}if(u.length){for(n("if(o.defaults){"),c=0;c<u.length;++c){var f=u[c],p=i.safeProp(f.name);if(f.resolvedType instanceof o)n("d%s=o.enums===String?%j:%j",p,f.resolvedType.valuesById[f.typeDefault],f.typeDefault);else if(f.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",f.typeDefault.low,f.typeDefault.high,f.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,f.typeDefault.toString(),f.typeDefault.toNumber());else if(f.bytes){var l="["+Array.prototype.slice.call(f.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",p,String.fromCharCode.apply(String,f.typeDefault))("else{")("d%s=%s",p,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",p,p)("}")}else n("d%s=%j",p,f.typeDefault)}n("}")}var d=!1;for(c=0;c<e.length;++c){f=e[c];var h=t._fieldsArray.indexOf(f);p=i.safeProp(f.name);f.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){"),a(n,f,h,p+"[ks2[j]]")("}")):f.repeated?(n("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p),a(n,f,h,p+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",p,f.name),a(n,f,h,p),f.partOf&&n("if(o.oneofs)")("d%s=%j",i.safeProp(f.partOf.name),f.name)),n("}")}return n("return d")}},function(t,e,n){"use strict";var r=e,o=n(111);r[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(e);if(n){var r="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var n="",r="";if(e&&e.json&&t.type_url&&t.value){r=t.type_url.substring(t.type_url.lastIndexOf("/")+1),n=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var i=this.lookup(r);i&&(t=i.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof o){var s=t.$type.toObject(t,e);return""===n&&(n="type.googleapis.com/"),r=n+("."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName),s["@type"]=r,s}return this.toObject(t,e)}}},function(t,e,n){"use strict";t.exports=p;var r=n(46);((p.prototype=Object.create(r.prototype)).constructor=p).className="Root";var o,i,s,a=n(41),u=n(19),c=n(69),f=n(4);function p(t){r.call(this,"",t),this.deferred=[],this.files=[]}function l(){}p.fromJSON=function(t,e){return e||(e=new p),t.options&&e.setOptions(t.options),e.addJSON(t.nested)},p.prototype.resolvePath=f.path.resolve,p.prototype.fetch=f.fetch,p.prototype.load=function t(e,n,r){"function"==typeof n&&(r=n,n=void 0);var o=this;if(!r)return f.asPromise(t,o,e,n);var a=r===l;function u(t,e){if(r){var n=r;if(r=null,a)throw t;n(t,e)}}function c(t){var e=t.lastIndexOf("google/protobuf/");if(e>-1){var n=t.substring(e);if(n in s)return n}return null}function p(t,e){try{if(f.isString(e)&&"{"===e.charAt(0)&&(e=JSON.parse(e)),f.isString(e)){i.filename=t;var r,s=i(e,o,n),p=0;if(s.imports)for(;p<s.imports.length;++p)(r=c(s.imports[p])||o.resolvePath(t,s.imports[p]))&&d(r);if(s.weakImports)for(p=0;p<s.weakImports.length;++p)(r=c(s.weakImports[p])||o.resolvePath(t,s.weakImports[p]))&&d(r,!0)}else o.setOptions(e.options).addJSON(e.nested)}catch(t){u(t)}a||h||u(null,o)}function d(t,e){if(!(o.files.indexOf(t)>-1))if(o.files.push(t),t in s)a?p(t,s[t]):(++h,setTimeout((function(){--h,p(t,s[t])})));else if(a){var n;try{n=f.fs.readFileSync(t).toString("utf8")}catch(t){return void(e||u(t))}p(t,n)}else++h,o.fetch(t,(function(n,i){--h,r&&(n?e?h||u(null,o):u(n):p(t,i))}))}var h=0;f.isString(e)&&(e=[e]);for(var y,g=0;g<e.length;++g)(y=o.resolvePath("",e[g]))&&d(y);if(a)return o;h||u(null,o)},p.prototype.loadSync=function(t,e){if(!f.isNode)throw Error("not supported");return this.load(t,e,l)},p.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(t){return"'extend "+t.extend+"' in "+t.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function h(t,e){var n=e.parent.lookup(e.extend);if(n){var r=new a(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.declaringField=e,e.extensionField=r,n.add(r),!0}return!1}p.prototype._handleAdd=function(t){if(t instanceof a)void 0===t.extend||t.extensionField||h(0,t)||this.deferred.push(t);else if(t instanceof u)d.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof c)){if(t instanceof o)for(var e=0;e<this.deferred.length;)h(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);d.test(t.name)&&(t.parent[t.name]=t)}},p.prototype._handleRemove=function(t){if(t instanceof a){if(void 0!==t.extend)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var e=this.deferred.indexOf(t);e>-1&&this.deferred.splice(e,1)}}else if(t instanceof u)d.test(t.name)&&delete t.parent[t.name];else if(t instanceof r){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);d.test(t.name)&&delete t.parent[t.name]}},p._configure=function(t,e,n){o=t,i=e,s=n}},function(t,e,n){var r=n(197),o=n(90),i=n(138),s=n(58)("socket.io-client");t.exports=e=u;var a=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),u=o.source,c=o.id,f=o.path,p=a[c]&&f in a[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?(s("ignoring socket cache for %s",u),n=i(u,e)):(a[c]||(s("new io instance for %s",u),a[c]=i(u,e)),n=a[c]),o.query&&!e.query&&(e.query=o.query),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=u,e.Manager=n(138),e.Socket=n(144)},function(t,e,n){"use strict";var r=n(174),o=n.n(r);e.a=o.a},function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.messagebody||(t.roots.messagebody=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{MessageOperation:{fields:{type:{type:"OpType",id:1},mid:{type:"uint64",id:2},xid:{type:"XID",id:3}},nested:{OpType:{values:{UNKNOWN:0,READ_ACK:1,READ_ALL:2,READ_CANCEL:3,DELIVER_ACK:4,RECALL:5,DELETE:6,PLAY_ACK:7}}}},MessageBody:{fields:{type:{type:"Type",id:1},content:{type:"string",id:4},ctype:{type:"ContentType",id:5},operation:{type:"MessageOperation",id:6},config:{type:"string",id:7},attachment:{type:"string",id:8},ext:{type:"string",id:9},qos:{type:"QoS",id:10},sender_name:{type:"string",id:11},is_system:{type:"bool",id:12},priority:{type:"uint32",id:13},status:{type:"Status",id:14}},nested:{Type:{values:{NORMAL:0,OPER:1,CHAT:2,GROUPCHAT:3}},ContentType:{values:{TEXT:0,IMAGE:1,AUDIO:2,VIDEO:3,FILE:4,LOCATION:5,COMMAND:6,FORWARD:7}},QoS:{values:{AT_LEAST_ONCE:0,AT_MOST_ONCE:1,EXACTLY_ONCE:2}},Status:{values:{UNREAD:0,DELIVERED:1,READ:2}}}},XID:{fields:{uid:{type:"uint64",id:1},deviceSN:{type:"uint32",id:2}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.groupnotice||(t.roots.groupnotice=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{GroupNotice:{fields:{type:{type:"Type",id:1},gid:{type:"XID",id:2},from:{type:"XID",id:3},to:{rule:"repeated",type:"XID",id:4},content:{type:"string",id:5}},nested:{Type:{values:{UNKNOWN:0,PRESENCE:1,ABSENCE:2,CREATED:3,DESTROYED:4,JOINED:5,LEAVED:6,APPLYED:7,APPLY_ACCEPTED:8,APPLY_DECLINED:9,INVITED:10,INVITE_ACCEPTED:11,INVITE_DECLINED:12,KICKED:13,BLOCKED:14,UNBLOCKED:15,OWNER_ASSIGNED:16,ADMIN_GRANTED:17,ADMIN_REVOKED:18,MUTED:19,UNMUTED:20,BANNED:21,UNBANNED:22,INFO_UPDATED:23,ANNOUNCEMENT_UPDATED:24,MESSAGE_SETTING:25,FILE_UPLOADED:26,FILE_DELETED:27,FILE_UPDATED:28}}}},XID:{fields:{uid:{type:"uint64",id:1},deviceSN:{type:"uint32",id:2}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.rosternotice||(t.roots.rosternotice=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{RosterNotice:{fields:{type:{type:"Type",id:1},from:{type:"XID",id:2},to:{rule:"repeated",type:"XID",id:3},content:{type:"string",id:4},roster_vsn:{type:"string",id:5}},nested:{Type:{values:{UNKNOWN:0,ADDED:1,REMOVED:2,ACCEPTED:3,DECLINED:4,APPLIED:7,BLOCKED:5,UNBLOCKED:6,INFO_UPDATED:8,MUTED:9,UNMUTED:10}}}},XID:{fields:{uid:{type:"uint64",id:1},deviceSN:{type:"uint32",id:2}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.usernotice||(t.roots.usernotice=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{UserNotice:{fields:{type:{type:"Type",id:1},content:{type:"string",id:2}},nested:{Type:{values:{UNKNOWN:0,PASSWORD_CHANGED:1,FROZEN:2,REMOVED:3,KICK_BY_SAME_DEVICE:4,KICKED_BY_OTHER_DEVICE:5,INFO_UPDATED:6,DEVICE_LOGIN:7,DEVICE_LOGOUT:8,DEVICE_ADDED:9,DEVICE_REMOVED:10,CLUSTER_CHANGED:11}}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.info||(t.roots.info=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{Info:{fields:{sdk_vsn:{type:"string",id:1},network:{type:"Network",id:2},content:{type:"string",id:3}},nested:{Network:{values:{WIRE:0,WIFI:1,NET_2G:2,NET_3G:3,NET_4G:4,NET_5G:5,UNKNOWN:6}}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r,o,i;n(28);o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";return(t.roots.conversation||(t.roots.conversation=new t.Root)).addJSON({im:{nested:{floo:{nested:{protobuf:{nested:{Conversation:{fields:{type:{type:"Type",id:1},operation:{type:"ConversationOperation",id:2}},nested:{Type:{values:{UNKNOWN:0,OPER:1}}}},ConversationOperation:{fields:{type:{type:"OpType",id:1},xid:{type:"XID",id:2}},nested:{OpType:{values:{UNKNOWN:0,DELETE:1,DELETE_EVERYWHERE:2}}}},XID:{fields:{uid:{type:"uint64",id:1},deviceSN:{type:"uint32",id:2}}}}}}}}}})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){"use strict";var r=n(10).f,o=n(74),i=n(54),s=n(25),a=n(55),u=n(120),c=n(82),f=n(123),p=n(124),l=n(9),d=n(125).fastKey,h=n(126),y=l?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){a(t,f,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,null!=r&&u(r,n,t[c],t)}));return i(f.prototype,{clear:function(){for(var t=h(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=h(this,e),r=g(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[y]--}return!!r},forEach:function(t){h(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(h(this,e),t)}}),l&&r(f.prototype,"size",{get:function(){return h(this,e)[y]}}),f},def:function(t,e,n){var r,o,i=g(t,e);return i?i.v=n:(t._l=i={i:o=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[y]++,"F"!==o&&(t._i[o]=i)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=h(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))}),n?"entries":"values",!n,!0),p(e)}}},function(t,e,n){var r=n(10),o=n(13),i=n(75);t.exports=n(9)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(7).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=n(77)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var r=n(74),o=n(44),i=n(56),s={};n(15)(s,n(6)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(7),o=n(16),i=n(24),s=n(54),a=n(125),u=n(120),c=n(55),f=n(11),p=n(14),l=n(83),d=n(56),h=n(187);t.exports=function(t,e,n,y,g,v){var m=r[t],b=m,_=g?"set":"add",E=b&&b.prototype,w={},A=function(t){var e=E[t];i(E,t,"delete"==t||"has"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||E.forEach&&!p((function(){(new b).entries().next()})))){var S=new b,O=S[_](v?{}:-0,1)!=S,C=p((function(){S.has(1)})),N=l((function(t){new b(t)})),k=!v&&p((function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)}));N||((b=e((function(e,n){c(e,b,t);var r=h(new m,e,b);return null!=n&&u(n,g,r[_],r),r}))).prototype=E,E.constructor=b),(C||k)&&(A("delete"),A("has"),g&&A("get")),(k||O)&&A(_),v&&E.clear&&delete E.clear}else b=y.getConstructor(e,t,g,_),s(b.prototype,n),a.NEED=!0;return d(b,t),w[t]=b,o(o.G+o.W+o.F*(b!=m),w),v||y.setStrong(b,t,g),b}},function(t,e,n){var r=n(11),o=n(188).set;t.exports=function(t,e,n){var i,s=e.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){var r=n(11),o=n(13),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(25)(Function.call,n(127).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(10),o=n(44);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){"use strict";if(n(9)){var r=n(53),o=n(7),i=n(14),s=n(16),a=n(130),u=n(192),c=n(25),f=n(55),p=n(44),l=n(15),d=n(54),h=n(23),y=n(12),g=n(131),v=n(52),m=n(72),b=n(22),_=n(81),E=n(11),w=n(26),A=n(79),S=n(74),O=n(122),C=n(132).f,N=n(80),k=n(30),R=n(6),T=n(87),x=n(118),I=n(134),D=n(129),U=n(31),M=n(83),P=n(124),B=n(133),L=n(196),j=n(10),F=n(127),G=j.f,q=F.f,V=o.RangeError,J=o.TypeError,K=o.Uint8Array,Y=Array.prototype,W=u.ArrayBuffer,H=u.DataView,z=T(0),X=T(2),$=T(3),Z=T(4),Q=T(5),tt=T(6),et=x(!0),nt=x(!1),rt=D.values,ot=D.keys,it=D.entries,st=Y.lastIndexOf,at=Y.reduce,ut=Y.reduceRight,ct=Y.join,ft=Y.sort,pt=Y.slice,lt=Y.toString,dt=Y.toLocaleString,ht=R("iterator"),yt=R("toStringTag"),gt=k("typed_constructor"),vt=k("def_constructor"),mt=a.CONSTR,bt=a.TYPED,_t=a.VIEW,Et=T(1,(function(t,e){return Ct(I(t,t[vt]),e)})),wt=i((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),At=!!K&&!!K.prototype.set&&i((function(){new K(1).set({})})),St=function(t,e){var n=h(t);if(n<0||n%e)throw V("Wrong offset!");return n},Ot=function(t){if(E(t)&&bt in t)return t;throw J(t+" is not a typed array!")},Ct=function(t,e){if(!E(t)||!(gt in t))throw J("It is not a typed array constructor!");return new t(e)},Nt=function(t,e){return kt(I(t,t[vt]),e)},kt=function(t,e){for(var n=0,r=e.length,o=Ct(t,r);r>n;)o[n]=e[n++];return o},Rt=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},Tt=function(t){var e,n,r,o,i,s,a=w(t),u=arguments.length,f=u>1?arguments[1]:void 0,p=void 0!==f,l=N(a);if(null!=l&&!A(l)){for(s=l.call(a),r=[],e=0;!(i=s.next()).done;e++)r.push(i.value);a=r}for(p&&u>2&&(f=c(f,arguments[2],2)),e=0,n=y(a.length),o=Ct(this,n);n>e;e++)o[e]=p?f(a[e],e):a[e];return o},xt=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},It=!!K&&i((function(){dt.call(new K(1))})),Dt=function(){return dt.apply(It?pt.call(Ot(this)):Ot(this),arguments)},Ut={copyWithin:function(t,e){return L.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(Ot(this),arguments)},filter:function(t){return Nt(this,X(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){z(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ot(this),arguments)},lastIndexOf:function(t){return st.apply(Ot(this),arguments)},map:function(t){return Et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Ot(this),arguments)},reduceRight:function(t){return ut.apply(Ot(this),arguments)},reverse:function(){for(var t,e=Ot(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return $(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),r=n.length,o=v(t,r);return new(I(n,n[vt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,y((void 0===e?r:v(e,r))-o))}},Mt=function(t,e){return Nt(this,pt.call(Ot(this),t,e))},Pt=function(t){Ot(this);var e=St(arguments[1],1),n=this.length,r=w(t),o=y(r.length),i=0;if(o+e>n)throw V("Wrong length!");for(;i<o;)this[e+i]=r[i++]},Bt={entries:function(){return it.call(Ot(this))},keys:function(){return ot.call(Ot(this))},values:function(){return rt.call(Ot(this))}},Lt=function(t,e){return E(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Lt(t,e=m(e,!0))?p(2,t[e]):q(t,e)},Ft=function(t,e,n){return!(Lt(t,e=m(e,!0))&&E(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?G(t,e,n):(t[e]=n.value,t)};mt||(F.f=jt,j.f=Ft),s(s.S+s.F*!mt,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Ft}),i((function(){lt.call({})}))&&(lt=dt=function(){return ct.call(this)});var Gt=d({},Ut);d(Gt,Bt),l(Gt,ht,Bt.values),d(Gt,{slice:Mt,set:Pt,constructor:function(){},toString:lt,toLocaleString:Dt}),Rt(Gt,"buffer","b"),Rt(Gt,"byteOffset","o"),Rt(Gt,"byteLength","l"),Rt(Gt,"length","e"),G(Gt,yt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",p="get"+t,d="set"+t,h=o[c],v=h||{},m=h&&O(h),b=!h||!a.ABV,w={},A=h&&h.prototype,N=function(t,n){G(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[p](n*e+r.o,wt)}(this,n)},set:function(t){return function(t,n,r){var o=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[d](n*e+o.o,r,wt)}(this,n,t)},enumerable:!0})};b?(h=n((function(t,n,r,o){f(t,h,c,"_d");var i,s,a,u,p=0,d=0;if(E(n)){if(!(n instanceof W||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return bt in n?kt(h,n):Tt.call(h,n);i=n,d=St(r,e);var v=n.byteLength;if(void 0===o){if(v%e)throw V("Wrong length!");if((s=v-d)<0)throw V("Wrong length!")}else if((s=y(o)*e)+d>v)throw V("Wrong length!");a=s/e}else a=g(n),i=new W(s=a*e);for(l(t,"_d",{b:i,o:d,l:s,e:a,v:new H(i)});p<a;)N(t,p++)})),A=h.prototype=S(Gt),l(A,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&M((function(t){new h,new h(null),new h(1.5),new h(t)}),!0)||(h=n((function(t,n,r,o){var i;return f(t,h,c),E(n)?n instanceof W||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new v(n,St(r,e),o):void 0!==r?new v(n,St(r,e)):new v(n):bt in n?kt(h,n):Tt.call(h,n):new v(g(n))})),z(m!==Function.prototype?C(v).concat(C(m)):C(v),(function(t){t in h||l(h,t,v[t])})),h.prototype=A,r||(A.constructor=h));var k=A[ht],R=!!k&&("values"==k.name||null==k.name),T=Bt.values;l(h,gt,!0),l(A,bt,c),l(A,_t,!0),l(A,vt,h),(u?new h(1)[yt]==c:yt in A)||G(A,yt,{get:function(){return c}}),w[c]=h,s(s.G+s.W+s.F*(h!=v),w),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*i((function(){v.of.call(h,1)})),c,{from:Tt,of:xt}),"BYTES_PER_ELEMENT"in A||l(A,"BYTES_PER_ELEMENT",e),s(s.P,c,Ut),P(c),s(s.P+s.F*At,c,{set:Pt}),s(s.P+s.F*!R,c,Bt),r||A.toString==lt||(A.toString=lt),s(s.P+s.F*i((function(){new h(1).slice()})),c,{slice:Mt}),s(s.P+s.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){A.toLocaleString.call([1,2])}))),c,{toLocaleString:Dt}),U[c]=R?k:T,r||R||l(A,ht,T)}}else t.exports=function(){}},function(t,e,n){"use strict";var r=n(7),o=n(9),i=n(53),s=n(130),a=n(15),u=n(54),c=n(14),f=n(55),p=n(23),l=n(12),d=n(131),h=n(132).f,y=n(10).f,g=n(133),v=n(56),m=r.ArrayBuffer,b=r.DataView,_=r.Math,E=r.RangeError,w=r.Infinity,A=m,S=_.abs,O=_.pow,C=_.floor,N=_.log,k=_.LN2,R=o?"_b":"buffer",T=o?"_l":"byteLength",x=o?"_o":"byteOffset";function I(t,e,n){var r,o,i,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,f=23===e?O(2,-24)-O(2,-77):0,p=0,l=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===w?(o=t!=t?1:0,r=u):(r=C(N(t)/k),t*(i=O(2,-r))<1&&(r--,i*=2),(t+=r+c>=1?f/i:f*O(2,1-c))*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*O(2,e),r+=c):(o=t*O(2,c-1)*O(2,e),r=0));e>=8;s[p++]=255&o,o/=256,e-=8);for(r=r<<e|o,a+=e;a>0;s[p++]=255&r,r/=256,a-=8);return s[--p]|=128*l,s}function D(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,s=i>>1,a=o-7,u=n-1,c=t[u--],f=127&c;for(c>>=7;a>0;f=256*f+t[u],u--,a-=8);for(r=f&(1<<-a)-1,f>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===f)f=1-s;else{if(f===i)return r?NaN:c?-w:w;r+=O(2,e),f-=s}return(c?-1:1)*r*O(2,f-e)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function M(t){return[255&t]}function P(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function L(t){return I(t,52,8)}function j(t){return I(t,23,4)}function F(t,e,n){y(t.prototype,e,{get:function(){return this[n]}})}function G(t,e,n,r){var o=d(+n);if(o+e>t[T])throw E("Wrong index!");var i=t[R]._b,s=o+t[x],a=i.slice(s,s+e);return r?a:a.reverse()}function q(t,e,n,r,o,i){var s=d(+n);if(s+e>t[T])throw E("Wrong index!");for(var a=t[R]._b,u=s+t[x],c=r(+o),f=0;f<e;f++)a[u+f]=c[i?f:e-f-1]}if(s.ABV){if(!c((function(){m(1)}))||!c((function(){new m(-1)}))||c((function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name}))){for(var V,J=(m=function(t){return f(this,m),new A(d(t))}).prototype=A.prototype,K=h(A),Y=0;K.length>Y;)(V=K[Y++])in m||a(m,V,A[V]);i||(J.constructor=m)}var W=new b(new m(2)),H=b.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||u(b.prototype,{setInt8:function(t,e){H.call(this,t,e<<24>>24)},setUint8:function(t,e){H.call(this,t,e<<24>>24)}},!0)}else m=function(t){f(this,m,"ArrayBuffer");var e=d(t);this._b=g.call(new Array(e),0),this[T]=e},b=function(t,e,n){f(this,b,"DataView"),f(t,m,"DataView");var r=t[T],o=p(e);if(o<0||o>r)throw E("Wrong offset!");if(o+(n=void 0===n?r-o:l(n))>r)throw E("Wrong length!");this[R]=t,this[x]=o,this[T]=n},o&&(F(m,"byteLength","_l"),F(b,"buffer","_b"),F(b,"byteLength","_l"),F(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return U(G(this,4,t,arguments[1]))},getUint32:function(t){return U(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return D(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return D(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,M,e)},setUint8:function(t,e){q(this,1,t,M,e)},setInt16:function(t,e){q(this,2,t,P,e,arguments[2])},setUint16:function(t,e){q(this,2,t,P,e,arguments[2])},setInt32:function(t,e){q(this,4,t,B,e,arguments[2])},setUint32:function(t,e){q(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,L,e,arguments[2])}});v(m,"ArrayBuffer"),v(b,"DataView"),a(b.prototype,s.VIEW,!0),e.ArrayBuffer=m,e.DataView=b},function(t,e,n){var r=n(194);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(11),o=n(195),i=n(6)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(51);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(26),o=n(52),i=n(12);t.exports=[].copyWithin||function(t,e){var n=r(this),s=i(n.length),a=o(t,s),u=o(e,s),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?s:o(c,s))-u,s-a),p=1;for(u<a&&a<u+f&&(p=-1,u+=f-1,a+=f-1);f-- >0;)u in n?n[a]=n[u]:delete n[a],a+=p,u+=p;return n}},function(t,e,n){var r=n(135),o=n(58)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=s[u];n=o.call(t,i),s.splice(u,1),u--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(89),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(200)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(88))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=s[u];n=o.call(t,i),s.splice(u,1),u--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(89),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){var r=n(136),o=n(137),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var u in e)s[u]=t(e[u],n);return s}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}if(r(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,i=t;!function t(u,c,f){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){n++;var p=new FileReader;p.onload=function(){f?f[c]=this.result:i=this.result,--n||e(i)},p.readAsArrayBuffer(u)}else if(r(u))for(var l=0;l<u.length;l++)t(u[l],l,u);else if("object"==typeof u&&!o(u))for(var d in u)t(u[d],d,u)}(i),n||e(i)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),f=0,p=a>0?s-4:s;for(n=0;n<p;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[f++]=e>>16&255,u[f++]=e>>8&255,u[f++]=255&e;2===a&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[f++]=255&e);1===a&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[f++]=e>>8&255,u[f++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(f(t,s,s+16383>a?a:s+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var o,i,s=[],a=e;a<n;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,p=n?o-1:0,l=n?-1:1,d=t[e+p];for(p+=l,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+t[e+p],p+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+t[e+p],p+=l,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,p=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+p>=1?l/u:l*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=f?(a=0,s=f):s+p>=1?(a=(e*u-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=h,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+d]=255&s,d+=h,s/=256,c-=8);t[n+d-h]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(206),t.exports.parser=n(33)},function(t,e,n){var r=n(139),o=n(32),i=n(62)("engine.io-client:socket"),s=n(143),a=n(33),u=n(135),c=n(60);function f(t,e){if(!(this instanceof f))return new f(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=f,f.priorWebsocketSuccess=!1,o(f.prototype),f.protocol=a.protocol,f.Socket=f,f.Transport=n(94),f.transports=n(139),f.parser=n(33),f.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var t;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},f.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},f.prototype.probe=function(t){i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;f.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),l(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{i('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,l(),e.close(),e=null)}function a(n){var o=new Error("probe error: "+n);o.transport=e.name,s(),i('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",o)}function u(){a("transport closed")}function c(){a("socket closed")}function p(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),s())}function l(){e.removeListener("open",o),e.removeListener("error",a),e.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",p)}f.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",a),e.once("close",u),this.once("close",c),this.once("upgrading",p),e.open()},f.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},f.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},f.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},f.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},f.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()}function e(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},f.prototype.onError=function(t){i("socket error %j",t),f.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},f.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(92),o=n(140),i=n(32),s=n(61),a=n(62)("engine.io-client:polling-xhr"),u=n(93);function c(){}function f(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function p(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=f,t.exports.Request=p,s(f,o),f.prototype.supportsBinary=!0,f.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new p(t)},f.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",(function(t){o.onError("xhr post error",t)})),this.sendXhr=r},f.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},i(p.prototype),p.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},p.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},p.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},p.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",l);else if("function"==typeof addEventListener){addEventListener("onpagehide"in u?"pagehide":"unload",l,!1)}function l(){for(var t in p.requests)p.requests.hasOwnProperty(t)&&p.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var o=!1;return r=r||n,i.count=t,0===t?e():i;function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=r):0!==i.count||o||e(null,n)}}},function(t,e){var n,r,o,i=String.fromCharCode;function s(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return i(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return i(t);var n="";return 0==(4294965248&t)?n=i(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=i(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=i(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=i(63&t|128)}function f(){if(o>=r)throw Error("Invalid byte index");var t=255&n[o];if(o++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(t){var e,i;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(e=255&n[o],o++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|f())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|f()<<6|f())>=2048)return a(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|f()<<12|f()<<6|f())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=s(t),o=r.length,i=-1,a="";++i<o;)a+=c(r[i],n);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;n=s(t),r=n.length,o=0;for(var u,c=[];!1!==(u=p(a));)c.push(u);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=i(e);return o}(c)}}},function(t,e){!function(t){"use strict";e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(e){var n,r,o,i,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),p=new Uint8Array(f);for(n=0;n<u;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),p[c++]=r<<2|o>>4,p[c++]=(15&o)<<4|i>>2,p[c++]=(3&i)<<6|63&s;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function s(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function a(t,e){e=e||{};var r=new n;return s(t).forEach((function(t){r.append(t)})),e.type?r.getBlob(e.type):r.getBlob()}function u(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,u.prototype=Blob.prototype),t.exports=r?o?Blob:u:i?a:void 0},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=s[u];n=o.call(t,i),s.splice(u,1),u--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(89),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){var r=n(140),o=n(61),i=n(93);t.exports=f;var s,a=/\n/g,u=/\\n/g;function c(){}function f(t){r.call(this,t),this.query=this.query||{},s||(s=i.___eio=i.___eio||[]),this.index=s.length;var e=this;s.push((function(t){e.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=c)}),!1)}o(f,r),f.prototype.supportsBinary=!1,f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},f.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},f.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){f(),e()}function f(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),f(),t=t.replace(u,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},function(t,e,n){(function(e){var r,o,i=n(94),s=n(33),a=n(60),u=n(61),c=n(142),f=n(62)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=n(219)}catch(t){}var p=r||o;function l(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=o),i.call(this,t)}t.exports=l,u(l,i),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new p(t,e):new p(t):new p(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},l.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,o=0,i=r;o<i;o++)!function(t){s.encodePacket(t,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),n.perMessageDeflate)("string"==typeof o?e.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(t){f("websocket closed before onclose event")}--r||a()}))}(t[o]);function a(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},l.prototype.onClose=function(){i.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},l.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===l.prototype.name)}}).call(this,n(59).Buffer)},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){var r=n(16),o=n(43),i=n(14);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i((function(){n(1)})),"Object",s)}},function(t,e,n){n(9)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(96)})},function(t,e,n){"use strict";var r=n(16),o=n(225),i=n(227),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*s,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(12),o=n(226),i=n(29);t.exports=function(t,e,n,s){var a=String(i(t)),u=a.length,c=void 0===n?" ":String(n),f=r(e);if(f<=u||""==c)return a;var p=f-u,l=o.call(c,Math.ceil(p/c.length));return l.length>p&&(l=l.slice(0,p)),s?l+a:a+l}},function(t,e,n){"use strict";var r=n(23),o=n(29);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(7).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){n(229),n(243),n(244),n(245),t.exports=n(64).Symbol},function(t,e,n){"use strict";var r=n(20),o=n(27),i=n(35),s=n(147),a=n(150),u=n(232).KEY,c=n(63),f=n(98),p=n(99),l=n(67),d=n(38),h=n(100),y=n(101),g=n(233),v=n(238),m=n(65),b=n(45),_=n(154),E=n(39),w=n(97),A=n(66),S=n(155),O=n(241),C=n(242),N=n(153),k=n(37),R=n(102),T=C.f,x=k.f,I=O.f,D=r.Symbol,U=r.JSON,M=U&&U.stringify,P=d("_hidden"),B=d("toPrimitive"),L={}.propertyIsEnumerable,j=f("symbol-registry"),F=f("symbols"),G=f("op-symbols"),q=Object.prototype,V="function"==typeof D&&!!N.f,J=r.QObject,K=!J||!J.prototype||!J.prototype.findChild,Y=i&&c((function(){return 7!=S(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=T(q,e);r&&delete q[e],x(t,e,n),r&&t!==q&&x(q,e,r)}:x,W=function(t){var e=F[t]=S(D.prototype);return e._k=t,e},H=V&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},z=function(t,e,n){return t===q&&z(G,e,n),m(t),e=w(e,!0),m(n),o(F,e)?(n.enumerable?(o(t,P)&&t[P][e]&&(t[P][e]=!1),n=S(n,{enumerable:A(0,!1)})):(o(t,P)||x(t,P,A(1,{})),t[P][e]=!0),Y(t,e,n)):x(t,e,n)},X=function(t,e){m(t);for(var n,r=g(e=E(e)),o=0,i=r.length;i>o;)z(t,n=r[o++],e[n]);return t},$=function(t){var e=L.call(this,t=w(t,!0));return!(this===q&&o(F,t)&&!o(G,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,P)&&this[P][t])||e)},Z=function(t,e){if(t=E(t),e=w(e,!0),t!==q||!o(F,e)||o(G,e)){var n=T(t,e);return!n||!o(F,e)||o(t,P)&&t[P][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(E(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==P||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===q,r=I(n?G:E(t)),i=[],s=0;r.length>s;)!o(F,e=r[s++])||n&&!o(q,e)||i.push(F[e]);return i};V||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(G,n),o(this,P)&&o(this[P],t)&&(this[P][t]=!1),Y(this,t,A(1,n))};return i&&K&&Y(q,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",(function(){return this._k})),C.f=Z,k.f=z,n(156).f=O.f=Q,n(107).f=$,N.f=tt,i&&!n(68)&&a(q,"propertyIsEnumerable",$,!0),h.f=function(t){return W(d(t))}),s(s.G+s.W+s.F*!V,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=R(d.store),ot=0;rt.length>ot;)y(rt[ot++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return o(j,t+="")?j[t]:j[t]=D(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!V,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:z,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var it=c((function(){N.f(1)}));s(s.S+s.F*it,"Object",{getOwnPropertySymbols:function(t){return N.f(_(t))}}),U&&s(s.S+s.F*(!V||c((function(){var t=D();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!H(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,M.apply(U,r)}}),D.prototype[B]||n(36)(D.prototype,B,D.prototype.valueOf),p(D,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(t,e,n){var r=n(231);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(67)("meta"),o=n(45),i=n(27),s=n(37).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(63)((function(){return u(Object.preventExtensions({}))})),f=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},p=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&p.NEED&&u(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(102),o=n(153),i=n(107);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),u=i.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(152);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(39),o=n(236),i=n(237);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),f=i(s,c);if(t&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(104),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(104),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(152);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(37),o=n(65),i=n(102);t.exports=n(35)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(20).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(39),o=n(156).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(107),o=n(66),i=n(39),s=n(97),a=n(27),u=n(148),c=Object.getOwnPropertyDescriptor;e.f=n(35)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(101)("asyncIterator")},function(t,e,n){n(101)("observable")},function(t,e,n){n(247),n(251),t.exports=n(100).f("iterator")},function(t,e,n){"use strict";var r=n(248)(!0);n(157)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(104),o=n(103);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(155),o=n(66),i=n(99),s={};n(36)(s,n(38)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(27),o=n(154),i=n(105)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(252);for(var r=n(20),o=n(36),i=n(108),s=n(38)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],f=r[c],p=f&&f.prototype;p&&!p[s]&&o(p,s,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(253),o=n(254),i=n(108),s=n(39);t.exports=n(157)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(16),o=n(87)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(85)("find")},function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())},function(t,e,n){"use strict";var r=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],i(n),i(r))}function s(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="";for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),o=Array.isArray(e),i=0;i<r.length;i++){var s=r[i],a=t[s];(o?-1!==e.indexOf(s):e(s,a,t))&&(n[s]=a)}return n}},function(t,e,n){"use strict";var r=t.exports=n(261);r.build="light",r.load=function(t,e,n){return"function"==typeof e?(n=e,e=new r.Root):e||(e=new r.Root),e.load(t,n)},r.loadSync=function(t,e){return e||(e=new r.Root),e.loadSync(t)},r.encoder=n(162),r.decoder=n(167),r.verifier=n(168),r.converter=n(169),r.ReflectionObject=n(40),r.Namespace=n(46),r.Root=n(171),r.Enum=n(19),r.Type=n(163),r.Field=n(41),r.OneOf=n(69),r.MapField=n(164),r.Service=n(165),r.Method=n(166),r.Message=n(111),r.wrappers=n(170),r.types=n(47),r.util=n(4),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(109),r.BufferWriter=n(268),r.Reader=n(110),r.BufferReader=n(269),r.util=n(18),r.rpc=n(160),r.roots=n(161),r.configure=o,o()},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var o=new Array(64),i=new Array(123),s=0;s<64;)i[o[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,n){for(var r,i=null,s=[],a=0,u=0;e<n;){var c=t[e++];switch(u){case 0:s[a++]=o[c>>2],r=(3&c)<<4,u=1;break;case 1:s[a++]=o[r|c>>4],r=(15&c)<<2,u=2;break;case 2:s[a++]=o[r|c>>6],s[a++]=o[63&c],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=o[r],s[a++]=61,1===u&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};r.decode=function(t,e,n){for(var r,o=n,s=0,a=0;a<t.length;){var u=t.charCodeAt(a++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(s){case 0:r=u,s=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:e[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error("invalid encoding");return n-o},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function a(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?s:a,t.readFloatBE=r?a:s}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}t.writeFloatLE=e.bind(null,o),t.writeFloatBE=e.bind(null,i),t.readFloatLE=n.bind(null,s),t.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function a(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?s:a,t.readDoubleBE=r?a:s}():function(){function e(t,e,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)t((a=r/5e-324)>>>0,o,i+e),t((s<<31|a/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(a=r*Math.pow(2,-u))>>>0,o,i+e),t((s<<31|u+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function n(t,e,n,r,o){var i=t(r,o+e),s=t(r,o+n),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+i;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,o,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=n.bind(null,s,0,4),t.readDoubleBE=n.bind(null,a,4,0)}(),t}function o(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function i(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function s(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],s=0;e<n;)(r=t[e++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(t,e,n){for(var r,o,i=n,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return t(n);s+n>r&&(i=t(r),s=0);var a=e.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},function(t,e,n){"use strict";t.exports=o;var r=n(18);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;o.fromHash=function(t){return t===s?i:new o((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";t.exports=i;var r=n(109);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(18);function i(){r.call(this)}function s(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(s,e,t),this},i._configure()},function(t,e,n){"use strict";t.exports=i;var r=n(110);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(18);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},function(t,e,n){"use strict";t.exports=o;var r=n(18);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(t,a,e,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return a.emit("error",t,e),s(t);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",n,e),s(null,n)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";function r(t,e){"string"==typeof t&&(e=t,t=void 0);var n=[];function o(t){if("string"!=typeof t){var e=i();if(r.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var s=Object.keys(t),a=new Array(s.length+1),u=new Array(s.length),c=0;c<s.length;)a[c]=s[c],u[c]=t[s[c++]];return a[c]=e,Function.apply(null,a).apply(null,u)}return Function(e)()}for(var f=new Array(arguments.length-1),p=0;p<f.length;)f[p]=arguments[++p];if(p=0,t=t.replace(/%([%dfijs])/g,(function(t,e){var n=f[p++];switch(e){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),p!==f.length)throw Error("parameter count mismatch");return n.push(t),o}function i(r){return"function "+(r||e||"")+"("+(t&&t.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=i,o}t.exports=r,r.verbose=!1},function(t,e,n){"use strict";t.exports=i;var r=n(158),o=n(159)("fs");function i(t,e,n){return"function"==typeof e?(n=e,e={}):e||(e={}),n?!e.xhr&&o&&o.readFile?o.readFile(t,(function(r,o){return r&&"undefined"!=typeof XMLHttpRequest?i.xhr(t,e,n):r?n(r):n(null,e.binary?o:o.toString("utf8"))})):i.xhr(t,e,n):r(i,this,t,e)}i.xhr=function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(e.binary){var t=r.response;if(!t){t=[];for(var o=0;o<r.responseText.length;++o)t.push(255&r.responseText.charCodeAt(o))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return n(null,r.responseText)}},e.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",t),r.send()}},function(t,e,n){"use strict";var r=e,o=r.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},i=r.normalize=function(t){var e=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=o(t),r="";n&&(r=e.shift()+"/");for(var i=0;i<e.length;)".."===e[i]?i>0&&".."!==e[i-1]?e.splice(--i,2):n?e.splice(i,1):++i:"."===e[i]?e.splice(i,1):++i;return r+e.join("/")};r.resolve=function(t,e,n){return n||(e=i(e)),o(e)?e:(n||(t=i(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?i(t+"/"+e):e)}},function(t,e,n){"use strict";var r=n(275),o=n(13),i=n(134),s=n(276),a=n(12),u=n(277),c=n(112),f=n(14),p=Math.min,l=[].push,d="length",h=!f((function(){RegExp(4294967295,"y")}));n(278)("split",2,(function(t,e,n,f){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(o,t,e);for(var i,s,a,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,h=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,f+"g");(i=c.call(y,o))&&!((s=y.lastIndex)>p&&(u.push(o.slice(p,i.index)),i[d]>1&&i.index<o[d]&&l.apply(u,i.slice(1)),a=i[0][d],p=s,u[d]>=h));)y.lastIndex===i.index&&y.lastIndex++;return p===o[d]?!a&&y.test("")||u.push(""):u.push(o.slice(p)),u[d]>h?u.slice(0,h):u}:"0".split(void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):y.call(String(o),n,r)},function(t,e){var r=f(y,t,this,e,y!==n);if(r.done)return r.value;var c=o(t),l=String(this),d=i(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new d(h?c:"^(?:"+c.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===l.length)return null===u(m,l)?[l]:[];for(var _=0,E=0,w=[];E<l.length;){m.lastIndex=h?E:0;var A,S=u(m,h?l:l.slice(E));if(null===S||(A=p(a(m.lastIndex+(h?0:E)),l.length))===_)E=s(l,E,g);else{if(w.push(l.slice(_,E)),w.length===b)return w;for(var O=1;O<=S.length-1;O++)if(w.push(S[O]),w.length===b)return w;E=_=A}}return w.push(l.slice(_)),w}]}))},function(t,e,n){var r=n(11),o=n(51),i=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(128)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(81),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(279);var r=n(24),o=n(15),i=n(14),s=n(29),a=n(6),u=n(112),c=a("species"),f=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var l=a(t),d=!i((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})),h=d?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[l](""),!e})):void 0;if(!d||!h||"replace"===t&&!f||"split"===t&&!p){var y=/./[l],g=n(s,l,""[t],(function(t,e,n,r,o){return e.exec===u?d&&!o?{done:!0,value:y.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=g[0],m=g[1];r(String.prototype,t,v),o(RegExp.prototype,l,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e,n){"use strict";var r=n(112);n(16)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){"use strict";n.r(e),n.d(e,"flooim",(function(){return rs}));var r={};n.r(r),n.d(r,"STATIC_FRAME_VSN",(function(){return mt})),n.d(r,"STATIC_FRAME_COMMAND",(function(){return bt})),n.d(r,"STATIC_FRAME_COMPRESS_METHOD",(function(){return _t})),n.d(r,"STATIC_FRAME_ERROR_STATUS",(function(){return Et})),n.d(r,"STATIC_FRAME_OSTYPE",(function(){return wt})),n.d(r,"STATIC_FRAME_ENCRYPTMETHOD",(function(){return At})),n.d(r,"STATIC_META_NAMESPACE",(function(){return St})),n.d(r,"STATIC_MESSAGE_OPTYPE",(function(){return Ct})),n.d(r,"STATIC_MESSAGE_TYPE",(function(){return Ot})),n.d(r,"STATIC_MESSAGE_CONTENT_TYPE",(function(){return Nt})),n.d(r,"STATIC_MESSAGE_QOS",(function(){return kt})),n.d(r,"STATIC_GROUPNOTICE_TYPE",(function(){return Rt})),n.d(r,"STATIC_INFO_NETWORK",(function(){return Tt})),n.d(r,"STATIC_USERNOTICE_TYPE",(function(){return It})),n.d(r,"STATIC_ROSTERNONTICE_TYPE",(function(){return xt})),n.d(r,"STATIC_CONVERSATION_TYPE",(function(){return Dt})),n.d(r,"STATIC_CONVERSATION_OPTYPE",(function(){return Ut})),n.d(r,"STATIC_MESSAGE_STATUS",(function(){return Mt}));var o={};n.r(o),n.d(o,"getServers",(function(){return Oe})),n.d(o,"tokenUser",(function(){return Ce})),n.d(o,"tokenId",(function(){return Ne})),n.d(o,"userRegister",(function(){return ke})),n.d(o,"userBindMobile",(function(){return Re})),n.d(o,"userSendSms",(function(){return xe})),n.d(o,"userNameCheck",(function(){return Ie})),n.d(o,"userMobileBind",(function(){return De})),n.d(o,"userMobileBindSign",(function(){return Ue})),n.d(o,"userMobileLogin",(function(){return Me})),n.d(o,"userUpdateMobile",(function(){return Te})),n.d(o,"captchaImagePost",(function(){return Pe})),n.d(o,"captchaSms",(function(){return Be})),n.d(o,"rosterAccept",(function(){return Le})),n.d(o,"rosterApply",(function(){return je})),n.d(o,"rosterDecline",(function(){return Fe})),n.d(o,"rosterDelete",(function(){return Ge})),n.d(o,"rosterExt",(function(){return qe})),n.d(o,"rosterId",(function(){return Ve})),n.d(o,"rosterList",(function(){return Je})),n.d(o,"rosterListPost",(function(){return Ke})),n.d(o,"rosterName",(function(){return Ye})),n.d(o,"rosterApplylist",(function(){return We})),n.d(o,"rosterBlockedlist",(function(){return He})),n.d(o,"rosterBlockedAdd",(function(){return ze})),n.d(o,"rosterBlockeRemove",(function(){return Xe})),n.d(o,"groupAdminAdd",(function(){return $e})),n.d(o,"groupAdminList",(function(){return Ze})),n.d(o,"groupAdminRemove",(function(){return Qe})),n.d(o,"groupAnnouncement",(function(){return tn})),n.d(o,"groupAnnouncementDelete",(function(){return en})),n.d(o,"groupAnnouncementEdit",(function(){return nn})),n.d(o,"groupAnnouncementList",(function(){return rn})),n.d(o,"groupCreate",(function(){return on})),n.d(o,"groupDestroy",(function(){return sn})),n.d(o,"groupInfo",(function(){return an})),n.d(o,"groupInfoAvatar",(function(){return un})),n.d(o,"groupInfoDdscription",(function(){return cn})),n.d(o,"groupInfoExt",(function(){return fn})),n.d(o,"groupInfoName",(function(){return pn})),n.d(o,"groupMemberlist",(function(){return ln})),n.d(o,"groupMsgMutemode",(function(){return dn})),n.d(o,"groupMsgNotdisturb",(function(){return hn})),n.d(o,"groupPubliclist",(function(){return yn})),n.d(o,"groupBannedList",(function(){return gn})),n.d(o,"groupBab",(function(){return vn})),n.d(o,"groupUnban",(function(){return mn})),n.d(o,"groupSettings",(function(){return bn})),n.d(o,"groupSettingsAllowmemberinvitation",(function(){return _n})),n.d(o,"groupSettingsAllowmembermodify",(function(){return En})),n.d(o,"groupSettingsEnablereadack",(function(){return wn})),n.d(o,"groupSettingsHistoryvisible",(function(){return An})),n.d(o,"groupSettingsRequireadminapproval",(function(){return Sn})),n.d(o,"groupSettingsBanAll",(function(){return On})),n.d(o,"groupSettingsUnBanAll",(function(){return Cn})),n.d(o,"groupTransfer",(function(){return Nn})),n.d(o,"groupUserjoined",(function(){return kn})),n.d(o,"groupApply",(function(){return Rn})),n.d(o,"groupApplicationlist",(function(){return Gn})),n.d(o,"groupInvitationlist",(function(){return qn})),n.d(o,"groupApplyHandle",(function(){return Tn})),n.d(o,"groupBockedlist",(function(){return xn})),n.d(o,"groupBlock",(function(){return In})),n.d(o,"groupUnblock",(function(){return Dn})),n.d(o,"groupKick",(function(){return Un})),n.d(o,"groupInvite",(function(){return Mn})),n.d(o,"groupInviteHandle",(function(){return Pn})),n.d(o,"groupInfoBatch",(function(){return Bn})),n.d(o,"groupMembersDidpayname",(function(){return Ln})),n.d(o,"groupLeave",(function(){return jn})),n.d(o,"groupDisplayname",(function(){return Fn})),n.d(o,"groupFilelist",(function(){return Vn})),n.d(o,"groupFiledelete",(function(){return Jn})),n.d(o,"groupFileupload",(function(){return Kn})),n.d(o,"userAuthmode",(function(){return Yn})),n.d(o,"userAvatar",(function(){return Wn})),n.d(o,"userMobile",(function(){return Hn})),n.d(o,"userNickname",(function(){return zn})),n.d(o,"userProfile",(function(){return Xn})),n.d(o,"userProfilePost",(function(){return $n})),n.d(o,"userPush",(function(){return Zn})),n.d(o,"userPushDetail",(function(){return Qn})),n.d(o,"userPushLimit",(function(){return tr})),n.d(o,"userPushNickname",(function(){return er})),n.d(o,"userSettings",(function(){return nr})),n.d(o,"userSettingsPost",(function(){return rr})),n.d(o,"userSounds",(function(){return or})),n.d(o,"userVibratory",(function(){return ir})),n.d(o,"bindDeviceToken",(function(){return sr})),n.d(o,"unbindDeviceToken",(function(){return ar})),n.d(o,"fileForward",(function(){return ur})),n.d(o,"asyncFileUpload",(function(){return cr})),n.d(o,"fileUploadAvatarUrl",(function(){return fr})),n.d(o,"fileUploadGroupAvatarUrl",(function(){return pr})),n.d(o,"fileUploadChatFileUrl",(function(){return lr})),n.d(o,"fileDownloadChatFileUrl",(function(){return dr})),n.d(o,"qrcode",(function(){return hr})),n.d(o,"qrlogin",(function(){return yr})),n.d(o,"qrcodeGroupsign",(function(){return gr})),n.d(o,"qrcodeGroupinvite",(function(){return vr})),n.d(o,"wxbind",(function(){return mr})),n.d(o,"wxlogin",(function(){return br})),n.d(o,"getStaticContact",(function(){return _r})),n.d(o,"wechatUnbind",(function(){return Er})),n.d(o,"wechatIsbind",(function(){return wr})),n.d(o,"wechatBind",(function(){return Ar}));n(49),n(73),n(57),n(84),n(3),n(86);var i=n(172),s=n.n(i),a=(n(17),n(0)),u=n(71),c=n(21);function f(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function p(t,e){this._pairs=[],t&&Object(c.a)(t,this,e)}const l=p.prototype;l.append=function(t,e){this._pairs.push([t,e])},l.toString=function(t){const e=t?function(e){return t.call(this,e,f)}:f;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var d=p;function h(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y(t,e,n){if(!e)return t;const r=n&&n.encode||h,o=n&&n.serialize;let i;if(i=o?o(e,n):a.a.isURLSearchParams(e)?e.toString():new d(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var g=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.a.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},v=n(2),m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b="undefined"!=typeof URLSearchParams?URLSearchParams:d,_=FormData;const E=(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),w="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var A={isBrowser:!0,classes:{URLSearchParams:b,FormData:_,Blob:Blob},isStandardBrowserEnv:E,isStandardBrowserWebWorkerEnv:w,protocols:["http","https","file","blob","url","data"]};var S=function(t){function e(t,n,r,o){let i=t[o++];const s=Number.isFinite(+i),u=o>=t.length;if(i=!i&&a.a.isArray(r)?r.length:i,u)return a.a.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&a.a.isObject(r[i])||(r[i]=[]);return e(t,n,r[i],o)&&a.a.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!s}if(a.a.isFormData(t)&&a.a.isFunction(t.entries)){const n={};return a.a.forEachEntry(t,(t,r)=>{e(function(t){return a.a.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),r,n,0)}),n}return null};const O={"Content-Type":void 0};const C={transitional:m,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=a.a.isObject(t);o&&a.a.isHTMLForm(t)&&(t=new FormData(t));if(a.a.isFormData(t))return r&&r?JSON.stringify(S(t)):t;if(a.a.isArrayBuffer(t)||a.a.isBuffer(t)||a.a.isStream(t)||a.a.isFile(t)||a.a.isBlob(t))return t;if(a.a.isArrayBufferView(t))return t.buffer;if(a.a.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Object(c.a)(t,new A.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return A.isNode&&a.a.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((i=a.a.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Object(c.a)(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(a.a.isString(t))try{return(e||JSON.parse)(t),a.a.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||C.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&a.a.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw v.a.from(t,v.a.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:A.classes.FormData,Blob:A.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.a.forEach(["delete","get","head"],(function(t){C.headers[t]={}})),a.a.forEach(["post","put","patch"],(function(t){C.headers[t]=a.a.merge(O)}));var N=C;const k=a.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const R=Symbol("internals");function T(t){return t&&String(t).trim().toLowerCase()}function x(t){return!1===t||null==t?t:a.a.isArray(t)?t.map(x):String(t)}function I(t,e,n,r){return a.a.isFunction(r)?r.call(this,e,n):a.a.isString(e)?a.a.isString(r)?-1!==e.indexOf(r):a.a.isRegExp(r)?r.test(e):void 0:void 0}class D{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=T(e);if(!o)throw new Error("header name must be a non-empty string");const i=a.a.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=x(t))}const i=(t,e)=>a.a.forEach(t,(t,n)=>o(t,n,e));return a.a.isPlainObject(t)||t instanceof this.constructor?i(t,e):a.a.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z]+$/.test(t.trim())?i((t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&k[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=T(t)){const n=a.a.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(a.a.isFunction(e))return e.call(this,t,n);if(a.a.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=T(t)){const n=a.a.findKey(this,t);return!(!n||e&&!I(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=T(t)){const o=a.a.findKey(n,t);!o||e&&!I(0,n[o],o,e)||(delete n[o],r=!0)}}return a.a.isArray(t)?t.forEach(o):o(t),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const e=this,n={};return a.a.forEach(this,(r,o)=>{const i=a.a.findKey(n,o);if(i)return e[i]=x(r),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(o):String(o).trim();s!==o&&delete e[o],e[s]=x(r),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return a.a.forEach(this,(n,r)=>{null!=n&&!1!==n&&(e[r]=t&&a.a.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(t=>n.set(t)),n}static accessor(t){const e=(this[R]=this[R]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=T(t);e[r]||(!function(t,e){const n=a.a.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})})}(n,t),e[r]=!0)}return a.a.isArray(t)?t.forEach(r):r(t),this}}D.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),a.a.freezeMethods(D.prototype),a.a.freezeMethods(D);var U=D;function M(t,e){const n=this||N,r=e||n,o=U.from(r.headers);let i=r.data;return a.a.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function P(t){return!(!t||!t.__CANCEL__)}function B(t,e,n){v.a.call(this,null==t?"canceled":t,v.a.ERR_CANCELED,e,n),this.name="CanceledError"}a.a.inherits(B,v.a,{__CANCEL__:!0});var L=B;var j=A.isStandardBrowserEnv?{write:function(t,e,n,r,o,i){const s=[];s.push(t+"="+encodeURIComponent(e)),a.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),a.a.isString(r)&&s.push("path="+r),a.a.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function F(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var G=A.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=a.a.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};var q=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=r[s];o||(o=u),n[i]=a,r[i]=u;let f=s,p=0;for(;f!==i;)p+=n[f++],f%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const l=c&&u-c;return l?Math.round(1e3*p/l):void 0}};function V(t,e){let n=0;const r=q(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,u=r(a);n=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&i<=s?(s-i)/u:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const J={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=U.from(t.headers).normalize(),i=t.responseType;let s;function u(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}a.a.isFormData(r)&&(A.isStandardBrowserEnv||A.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const f=F(t.baseURL,t.url);function p(){if(!c)return;const r=U.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new v.a("Request failed with status code "+n.status,[v.a.ERR_BAD_REQUEST,v.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:t,request:c}),c=null}if(c.open(t.method.toUpperCase(),y(f,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new v.a("Request aborted",v.a.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new v.a("Network Error",v.a.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||m;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new v.a(e,r.clarifyTimeoutError?v.a.ETIMEDOUT:v.a.ECONNABORTED,t,c)),c=null},A.isStandardBrowserEnv){const e=(t.withCredentials||G(f))&&t.xsrfCookieName&&j.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in c&&a.a.forEach(o.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),a.a.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),i&&"json"!==i&&(c.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&c.addEventListener("progress",V(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",V(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{c&&(n(!e||e.type?new L(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const l=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(f);l&&-1===A.protocols.indexOf(l)?n(new v.a("Unsupported protocol "+l+":",v.a.ERR_BAD_REQUEST,t)):c.send(r||null)}))}};a.a.forEach(J,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}});var K=t=>{t=a.a.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=a.a.isString(n)?J[n.toLowerCase()]:n));o++);if(!r){if(!1===r)throw new v.a(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(a.a.hasOwnProp(J,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!a.a.isFunction(r))throw new TypeError("adapter is not a function");return r};function Y(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new L(null,t)}function W(t){Y(t),t.headers=U.from(t.headers),t.data=M.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return K(t.adapter||N.adapter)(t).then((function(e){return Y(t),e.data=M.call(t,t.transformResponse,e),e.headers=U.from(e.headers),e}),(function(e){return P(e)||(Y(t),e&&e.response&&(e.response.data=M.call(t,t.transformResponse,e.response),e.response.headers=U.from(e.response.headers))),Promise.reject(e)}))}const H=t=>t instanceof U?t.toJSON():t;function z(t,e){e=e||{};const n={};function r(t,e,n){return a.a.isPlainObject(t)&&a.a.isPlainObject(e)?a.a.merge.call({caseless:n},t,e):a.a.isPlainObject(e)?a.a.merge({},e):a.a.isArray(e)?e.slice():e}function o(t,e,n){return a.a.isUndefined(e)?a.a.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!a.a.isUndefined(e))return r(void 0,e)}function s(t,e){return a.a.isUndefined(e)?a.a.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function u(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(t,e)=>o(H(t),H(e),!0)};return a.a.forEach(Object.keys(t).concat(Object.keys(e)),(function(r){const i=c[r]||o,s=i(t[r],e[r],r);a.a.isUndefined(s)&&i!==u||(n[r]=s)})),n}const X={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{X[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const $={};X.transitional=function(t,e,n){function r(t,e){return"[Axios v1.2.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new v.a(r(o," has been removed"+(e?" in "+e:"")),v.a.ERR_DEPRECATED);return e&&!$[o]&&($[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};var Z={assertOptions:function(t,e,n){if("object"!=typeof t)throw new v.a("options must be an object",v.a.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new v.a("option "+i+" must be "+n,v.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new v.a("Unknown option "+i,v.a.ERR_BAD_OPTION)}},validators:X};const Q=Z.validators;class tt{constructor(t){this.defaults=t,this.interceptors={request:new g,response:new g}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=z(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;let i;void 0!==n&&Z.assertOptions(n,{silentJSONParsing:Q.transitional(Q.boolean),forcedJSONParsing:Q.transitional(Q.boolean),clarifyTimeoutError:Q.transitional(Q.boolean)},!1),void 0!==r&&Z.assertOptions(r,{encode:Q.function,serialize:Q.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase(),i=o&&a.a.merge(o.common,o[e.method]),i&&a.a.forEach(["delete","get","head","post","put","patch","common"],t=>{delete o[t]}),e.headers=U.concat(i,o);const s=[];let u=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let f;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let p,l=0;if(!u){const t=[W.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),p=t.length,f=Promise.resolve(e);l<p;)f=f.then(t[l++],t[l++]);return f}p=s.length;let d=e;for(l=0;l<p;){const t=s[l++],e=s[l++];try{d=t(d)}catch(t){e.call(this,t);break}}try{f=W.call(this,d)}catch(t){return Promise.reject(t)}for(l=0,p=c.length;l<p;)f=f.then(c[l++],c[l++]);return f}getUri(t){return y(F((t=z(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}a.a.forEach(["delete","get","head","options"],(function(t){tt.prototype[t]=function(e,n){return this.request(z(n||{},{method:t,url:e,data:(n||{}).data}))}})),a.a.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(z(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tt.prototype[t]=e(),tt.prototype[t+"Form"]=e(!0)}));var et=tt;class nt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const r=new Promise(t=>{n.subscribe(t),e=t}).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new L(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new nt((function(e){t=e})),cancel:t}}}var rt=nt;const ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ot).forEach(([t,e])=>{ot[e]=t});var it=ot;const st=function t(e){const n=new et(e),r=Object(u.a)(et.prototype.request,n);return a.a.extend(r,et.prototype,n,{allOwnKeys:!0}),a.a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(z(e,n))},r}(N);st.Axios=et,st.CanceledError=L,st.CancelToken=rt,st.isCancel=P,st.VERSION="1.2.2",st.toFormData=c.a,st.AxiosError=v.a,st.Cancel=st.CanceledError,st.all=function(t){return Promise.all(t)},st.spread=function(t){return function(e){return t.apply(null,e)}},st.isAxiosError=function(t){return a.a.isObject(t)&&!0===t.isAxiosError},st.mergeConfig=z,st.AxiosHeaders=U,st.formToJSON=t=>S(a.a.isHTMLForm(t)?new FormData(t):t),st.HttpStatusCode=it,st.default=st;var at=st,ut=(n(34),n(95),n(224),"debug");var ct=function(){return"".concat((t=new Date).getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")+" "+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0")+"."+t.getMilliseconds().toString().padStart(3,"0"));var t},ft={error:function(){if("debug"==ut||"info"==ut||"warn"==ut||"error"==ut){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,[ct(),"[error]"].concat(n))}},log:function(){if("debug"==ut){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,[ct(),"[debug]"].concat(n))}},info:function(){if("debug"==ut||"info"==ut){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).info.apply(t,[ct(),"[info]"].concat(n))}},warn:function(){if("debug"==ut||"info"==ut||"warn"==ut){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).warn.apply(t,[ct(),"[warn]"].concat(n))}},dir:function(){if("debug"==ut){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).dir.apply(t,[ct(),"[dir]"].concat(n))}},req:function(){},setLogLevel:function(t){ut=t}},pt=n(42),lt=n.n(pt),dt=n(113),ht=n.n(dt);function yt(t){return(yt="function"==typeof lt.a&&"symbol"==typeof ht.a?function(t){return typeof t}:function(t){return t&&"function"==typeof lt.a&&t.constructor===lt.a&&t!==lt.a.prototype?"symbol":typeof t})(t)}var gt=n(8),vt=n.n(gt),mt={XSYNC_V1:0,XSYNC_V2:1},bt={UNREAD:0,SYNC:1,NOTICE:2,PROVISION:3},_t={NONE:0,ZLIB:1},Et={UNKNOWN:0,OK:1,FAIL:2,UNKNOWN_COMMAND:3,PB_PARSER_ERROR:4,DECRYPT_FAILURE:5,PUBLIC_KEY_CHANGED:6,INVALID_TOKEN:7,INVALID_PARAMETER:8,UNAUTHORIZED:9,USER_FROZEN:10,USER_BANNED:11,WORD_CENSORED:12,TOO_MANY_DEVICES:13,ENCRYPT_METHOD_UNSUPPORTED:14,DEVICE_GUID_CONFLICT:15,CHECK_SUM_FAILURE:16,INVALID_LICENSE:17,LICENSE_LIMIT:18,APP_FROZEN:19},wt={UNKNOWN:0,IOS:1,ANDR:2,WIN:3,OSX:4,LINUX:5,WEB:6},At={ENCRYPT_NONE:0,AES_CBC_128:1,AES_CBC_256:2,CUSTOM:3},St={UNKNOWN:0,MESSAGE:1,GROUP_NOTICE:2,ROSTER_NOTICE:3,USER_NOTICE:4,INFO:5,CONVERSATION:6},Ot={NORMAL:0,OPER:1,CHAT:2,GROUPCHAT:3},Ct={UNKNOWN:0,READ_ACK:1,READ_ALL:2,READ_CANCEL:3,DELIVER_ACK:4,RECALL:5,DELETE:6},Nt={TEXT:0,IMAGE:1,AUDIO:2,VIDEO:3,FILE:4,LOCATION:5,COMMAND:6,FORWARD:7},kt={AT_LEAST_ONCE:0,AT_MOST_ONCE:1,EXACTLY_ONCE:2},Rt={UNKNOWN:0,PRESENCE:1,ABSENCE:2,CREATED:3,DESTROYED:4,JOINED:5,LEAVED:6,APPLYED:7,APPLY_ACCEPTED:8,APPLY_DECLINED:9,INVITED:10,INVITE_ACCEPTED:11,INVITE_DECLINED:12,KICKED:13,BLOCKED:14,UNBLOCKED:15,OWNER_ASSIGNED:16,ADMIN_GRANTED:17,ADMIN_REVOKED:18,MUTED:19,UNMUTED:20,BANNED:21,UNBANNED:22,INFO_UPDATED:23,ANNOUNCEMENT_UPDATED:24,MESSAGE_SETTING:25,FILE_UPLOADED:26,FILE_DELETED:27,FILE_UPDATED:28},Tt={WIRE:0,WIFI:1,NET_2G:2,NET_3G:3,NET_4G:4,NET_5G:5,UNKNOWN:6},xt={UNKNOWN:0,ADDED:1,REMOVED:2,ACCEPTED:3,DECLINED:4,BLOCKED:5,UNBLOCKED:6,APPLIED:7,INFO_UPDATED:8,MUTED:9,UNMUTED:10},It={UNKNOWN:0,PASSWORD_CHANGED:1,FROZEN:2,REMOVED:3,KICK_BY_SAME_DEVICE:4,KICKED_BY_OTHER_DEVICE:5,INFO_UPDATED:6,DEVICE_LOGIN:7,DEVICE_LOGOUT:8,DEVICE_ADDED:9,DEVICE_REMOVED:10,CLUSTER_CHANGED:11},Dt={UNKNOWN:0,OPER:1},Ut={UNKNOWN:0,DELETE:1,DELETE_EVERYWHERE:2},Mt={UNREAD:0,DELIVERED:1,READ:2},Pt=function t(e){if(e instanceof vt.a)return e.toString();var n=e.low,r=e.high,o=e.unsigned,i=void 0===o||o;if(void 0!==n&&void 0!==r)return new vt.a(n,r,i).toString();var s=yt(e);if("boolean"===s||"string"===s||"number"===s)return e;if(Array.isArray(e)){var a=[];return e.forEach((function(e){void 0!==e&&a.push(t(e))})),a}var u={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(u[n]=t(e[n]))})),u},Bt=function t(e){var n=e.low,r=e.high,o=e.unsigned;if(void 0!==n&&void 0!==r)return new vt.a(n,r,o);var i=yt(e);if("boolean"===i||"string"===i||"number"===i)return e;if(Array.isArray(e)){var s=[];return e.forEach((function(e){s.push(t(e))})),s}var a={};return Object.keys(e).forEach((function(n){a[n]=t(e[n])})),a},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("string"==typeof t)return t-0;if("number"==typeof t)return t;var e=t.low,n=t.high,r=t.unsigned,o=void 0===r||r;return void 0!==e&&"undefined"!==n?new vt.a(e,n,o).toNumber():void 0},jt=function(t){if("string"==typeof t)return vt.a.fromString(t);var e=t.low,n=t.high,r=t.unsigned,o=void 0===r||r;return void 0!==e&&"undefined"!==n?new vt.a(e,n,o):"number"==typeof t?vt.a.fromNumber(t):new vt.a},Ft=function(t){return void 0===t?"":"string"==typeof t?t:"number"==typeof t?t+"":void 0!==t.low&&void 0!==t.high?new vt.a(t.low,t.high,!0).toString():new vt.a(t).toString()},Gt=function(t){if(!t.payload)return t;var e=t.payload,n=t.from,r=void 0===n?{}:n,o=t.to,i=void 0===o?{}:o,s=t.id,a=void 0===s?{}:s,u=t.status,c=t.timestamp,f=e.content,p=void 0===f?"":f,l=e.attachment,d=void 0===l?"":l,h=e.ctype,y=void 0===h?0:h,g=e.ext,v=e.config,m=e.type,b=null,_=null;try{b=JSON.parse(d)}catch(t){}try{_=JSON.parse(v)}catch(t){}var E=u||e.status,w={id:Ft(a),from:Ft(r.uid),to:Ft(i.uid),content:p,type:Object.keys(Nt)[y].toLowerCase(),ext:g,status:E||Mt.UNREAD,timestamp:Ft(c||0),toType:2==m?"roster":"group"};return b&&(w.attach=b),_&&(w.config=_),w},qt=function(){var t=window.localStorage.getItem("key_user_id");if(t)return t-0},Vt=function(t){return t%31},Jt=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(void 0!==e&&void 0!==t){var o=t;if(n){var i=qt();o=i+"_"+t}if(r>=0&&(o=o+"_"+Vt(r)),"string"!=typeof e){var s;s=Array.isArray(e)?{data:e}:e;try{var a=JSON.stringify(s);a&&window.localStorage.setItem(o,a)}catch(t){ft.error("stringify error:",t,o,e)}}else window.localStorage.setItem(o,e)}else ft.error("localstorage save error:",t,e)},Kt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(void 0!==t){var r=t;if(e){var o=qt();r=o+"_"+t}n>=0&&(r=r+"_"+Vt(n));var i=window.localStorage.getItem(r);if(i){var s=i;try{s=JSON.parse(i)}catch(t){}return(s=Bt(s)).data||s}}else ft.error("localstorage get error:",t)},Yt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=t;if(e){var o=qt();r=o+"_"+t}n>=0&&(r=r+"_"+Vt(n)),window.localStorage.removeItem(r)},Wt=function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(e=0;e<31;e++)Yt(t,n,e)},Ht={saveJoinedGroups:function(t){if(t){Array.isArray(t)||(t=[t]);var e=t.map((function(t){return t.group_id||t})),n=Kt("key_group_lists")||[],r=Array.from(new Set(e.concat(n)));Jt("key_group_lists",r)}},removeGroup:function(t){var e=Kt("key_group_lists")||[],n=e.findIndex((function(e){return e===t}));n>=0&&(e.splice(n,1),Jt("key_group_lists",e))},getJoinedGroups:function(){return Kt("key_group_lists")},saveGroupInfo:function(t){Array.isArray(t)||(t=[t]);var e=Kt("key_group_infos")||{};t.forEach((function(t){var n={},r=t.group_id;Object.keys(t).forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),e[r]=e[r]||{},Object.assign(e[r],n)})),Jt("key_group_infos",e)},getGroupInfo:function(t){var e=Kt("key_group_infos")[t]||{};return Object.assign(e,{group_id:t})},getGroupInfoList:function(){var t=Ht.getJoinedGroups()||[],e=Ht.getAllGroupInfos()||{},n=[];return t.forEach((function(t){var r=e[t]||{};n.push(Object.assign({},r,{group_id:t}))})),n},getAllGroupInfos:function(){return Kt("key_group_infos")||{}},saveGroupMembers:function(t,e,n){Array.isArray(e)||(e=[e]);var r=Kt("key_group_members")||{},o=r[t]||[];if(n)return r[t]=e,void Jt("key_group_members",r);e.forEach((function(t){o.findIndex((function(e){return e===t}))<0&&o.push(t)})),r[t]=o},removeGroupMembers:function(t,e){var n=(Kt("key_group_members")||{})[t]||[];e.forEach((function(t){var e=n.findIndex((function(e){return e===t}));e>=0&&n.splice(e,1)})),Jt("key_group_members",n)},getGroupMembers:function(t){return(Kt("key_group_members")||{})[t]||[]},clear:function(){Yt("key_group_infos"),Yt("key_group_members"),Yt("key_group_lists")}},zt=Ht,Xt=function(){var t=Kt("key_user_id",!1);if(t)return t-0},$t=function(){Yt("key_user_id")},Zt=function(){Yt("key_user_token")},Qt=function(){Yt("key_user_aes_key")},te=function(){Yt("key_user_device_sn")},ee={saveToken:function(t){return Jt("key_user_token",t)},getToken:function(){return Kt("key_user_token")},deleteToken:Zt,getAesKey:function(){return Kt("key_user_aes_key")},saveAesKey:function(t){return Jt("key_user_aes_key",t)},deleteAesKey:Qt,saveDeviceSN:function(t){return Jt("key_user_device_sn",t)},getDeviceSN:function(){var t=Kt("key_user_device_sn");return t||(t=999999999+Math.floor(214e4*Math.random())+""),t-0},deleteDeviceSN:te,saveUid:function(t){if(!t)throw ft.error("uid error:",t),new Error("uid is error ...");Jt("key_user_id",t+"",!1)},getUid:Xt,removeUid:$t,getDeviceGuid:function(){if(!Xt())return"";var t=Kt("key_user_device_guid");return t||(t=Xt()+"_"+Math.floor(2147483648*Math.random()),Jt("key_user_device_guid",t)),t},saveProfile:function(t){return Jt("key_user_profile",t)},getProfile:function(){return Kt("key_user_profile")},clear:function(){te(),Qt(),Zt(),$t()},saveAppid:function(t){if(!t)throw ft.error("Invalid appid :",t),new Error("Invalid appid ...");Jt("key_app_id",t+"",!1)},getAppid:function(){return Kt("key_app_id",!1)}},ne=(n(255),{}),re=function(t){return void 0===ne[t]&&(ne[t]=[]),ne[t]},oe=function(t,e){var n=re(t).findIndex((function(t){return t.toString()===e.toString()}));n>-1&&re(t).splice(n,1),re(t).push(e)},ie=function(t,e){var n=re(t).findIndex((function(t){return t.toString()===e.toString()}));n>=0&&ne[t].splice(n,1)},se=function(t,e){re(t).forEach((function(t){t(e)}))},ae={saveRecent:function(t){if(!function(t){var e=t.ext,n={};try{n=JSON.parse(e)}catch(t){}if(void 0!==n.input_status){n.input_status;return!0}return!1}(t)){var e=t.from,n=t.to,r=t.type,o=t.toType,i=t.attach,s=t.ext,a=t.timestamp,u=t.content;if(u||i){"text"!=r&&(u=r);var c=Lt(n),f=ee.getUid();c===f&&(c=Lt(e));var p=Kt("key_recent_store")||[],l=p.findIndex((function(t){return t.type===o&&t.id===c}));l>-1&&p.splice(l,1),p.unshift({type:o,id:c,content:u,ext:s,timestamp:a}),Jt("key_recent_store",p),se("recentlistUpdate")}else s&&s.typing&&se("onInputStatusMessage",{from:e,to:n,ext:s})}},saveUnreadRecent:function(t,e){t.forEach((function(t){var n=e,r=Kt("key_recent_store")||[],o="",i="",s=r.findIndex((function(e){return e.type===n&&e.id===t}));s>-1&&(o=r[s].content,i=r[s].timestamp,r.splice(s,1)),r.unshift({type:n,id:t,content:o,timestamp:i}),Jt("key_recent_store",r)})),se("recentlistUpdate")},getRecents:function(){var t=Kt("key_recent_store")||[],e=t.filter((function(t){return"roster"==t.type})).map((function(t){return t.id}));return se("imGetRecent",e),t},getRecentById:function(t){var e=Kt("key_recent_store")||[],n=e.findIndex((function(e){return e.id+""==t+""}));if(n<0)return{idx:n};var r=e[n].type;return{idx:n,id:t,type:r}},deleteRecentById:function(t){var e=ae.getRecentById(t).idx;if(!(e<0)){var n=Kt("key_recent_store")||[];n.splice(e,1),Jt("key_recent_store",n)}},clear:function(){Yt("key_recent_store")}},ue=ae,ce=function(t){var e=t.payload;if(!e)return!1;var n=e.type,r=e.operation,o=void 0===r?{}:r;if(!o||n!==Ot.OPER)return!1;var i=o.type;return i===Ct.READ_ACK||i==Ct.READ_ALL},fe=function(t,e){var n=jt(e.id);if(0===t.length)t.push(e);else{var r=t[0],o=t[t.length-1];if(-1===n.comp(jt(r.id)))t.unshift(e);else if(1===n.comp(jt(o.id)))t.push(e);else{for(var i=0,s=0;i<t.length;){var a=t[i],u=n.comp(jt(a.id));if(0===u&&(s=1),1!==u)break;i++}t.splice(i,s,e)}}return t},pe={saveSendingRosterMessage:function(t){var e=Kt("key_roster_sending_message")||[];e.push(t);var n=e.length;n>100&&e.splice(0,n-100),Jt("key_roster_sending_message",e);var r=t.to,o=t.id;se("onSendingMessageStatusChanged",{status:"sending",uid:r.uid,mid:o})},dealSendedRosterMessage:function(t){var e=t.client_mid,n=t.server_mid,r=Kt("key_roster_sending_message")||[];if(n){var o=r.findIndex((function(t){return Lt(t.id)===Lt(e)}));if(o>-1){var i=r[o];i.id=n;var s=Gt(i);s.status=Mt.UNREAD,pe.saveRosterMessage(s),s.toType="roster",ue.saveRecent(s),r.splice(o,1),Jt("key_roster_sending_message",r),se("onRosterMessage",s),ce(s)||se("onSendingMessageStatusChanged",{status:"sent",mid:Lt(e)})}}else{ft.log("failed to send message due to: ",t.status.reason);var a=r.findIndex((function(t){return Lt(t.id)===Lt(e)}));a>-1&&(Kt("key_roster_sending_message")||[]).splice(a,1)}},saveRosterMessage:function(t){var e=t.from,n=t.to,r=t.type;if("command"!=r&&"forward"!=r){var o=Lt(e),i=Lt(ee.getUid()),s=Lt(n),a=o===i?s:o,u=Kt("key_roster_message_store",!0,a)||{},c=u[a]||[];fe(c,t),c.length>100?u[a]=c.slice(c.length-100):u[a]=c,Jt("key_roster_message_store",u,!0,a)}},getRosterMessage:function(t){return(Kt("key_roster_message_store",!0,t)||{})[t]||[]},saveFormatedRosterMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Kt("key_roster_message_store",!0,t)||{};n[t]=e,Jt("key_roster_message_store",n,!0,t)},getRosterUnreadMessageIdsByRosterid:function(t){var e=(Kt("key_roster_message_store",!0,t)||{})[t]||[],n=[];return e.forEach((function(t){var e=t.status,r=void 0===e?Mt.READ:e,o=t.id;r==Mt.UNREAD&&n.push(o)})),n},deleteRosterMessageByRosterId:function(t){var e=Kt("key_roster_message_store",!0,t)||{};e[t]&&delete e[t],Jt("key_roster_message_store",e,!0,t)},deleteSingleRosterMessage:function(t,e){var n=Kt("key_roster_message_store",!0,t)||{},r=Ft(e),o=n[t]||[],i=o.findIndex((function(t){return Ft(t.id)===r}));i>-1&&(o.splice(i,1),n[t]=o,Jt("key_roster_message_store",n,!0,t))},saveSendingGroupMessage:function(t){var e=Kt("key_group_sending_message")||[];e.push(t);var n=e.length;n>100&&e.splice(0,n-100),Jt("key_group_sending_message",e);var r=t.to,o=t.id;se("onSendingMessageStatusChanged",{status:"sending",uid:r.uid,mid:o})},dealSendedGroupMessage:function(t){var e=t.client_mid,n=t.server_mid,r=Kt("key_group_sending_message")||[],o=r.findIndex((function(t){return Lt(t.id)===Lt(e)}));if(o>-1){var i=r[o];i.id=n;var s=Gt(i);s.status=Mt.UNREAD,pe.saveGroupMessage(s),s.toType="group",ue.saveRecent(s),r.splice(o,1),Jt("key_group_sending_message",r),se("onGroupMessage",s),ce(s)||se("onSendingMessageStatusChanged",{status:"sent",mid:Lt(e)})}},saveGroupMessage:function(t){var e=t.to,n=t.type;if("command"!=n&&"forward"!=n){var r=Lt(e),o=Kt("key_group_message_store",!0,r)||{},i=o[r]||[];fe(i,t),i.length>100?o[r]=i.slice(i.length-100):o[r]=i,Jt("key_group_message_store",o,!0,r)}},getGroupMessage:function(t){return(Kt("key_group_message_store",!0,t)||{})[t]||[]},saveFormatedGroupMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Kt("key_group_message_store",!0,t)||{};n[t]=e,Jt("key_group_message_store",n,!0,t)},getGroupUnreadMessageIdsByGid:function(t){var e=(Kt("key_group_message_store",!0,t)||{})[t]||[],n=[];return e.forEach((function(t){var e=t.r,r=void 0!==e&&e,o=t.id;!r&&n.push(o)})),n},deleteGroupMessageByGid:function(t){var e=Kt("key_group_message_store",!0,t)||{};e[t]&&delete e[t],Jt("key_group_message_store",e,!0,t)},deleteSingleGroupMessage:function(t,e){var n=Kt("key_group_message_store",!0,t)||{};e=Ft(e);var r=n[t]||[],o=r.findIndex((function(t){return Ft(t.id)===e}));o>-1&&(r.splice(o,1),n[t]=r,Jt("key_group_message_store",n,!0,t))},getUnreadByRosterId:function(t){var e=pe.getRosterMessage(t)||[],n=0,r=ee.getUid();return e.forEach((function(t){var e=t.from,o=t.status,i=Lt(e);i>0&&i!==r&&o!==Mt.READ&&n++})),n},getUnreadByGroupId:function(t){var e=pe.getGroupMessage(t)||[],n=0,r=ee.getUid();return e.forEach((function(t){var e=t.from,o=t.status,i=Lt(e);i>0&&i!==r&&o!==Mt.READ&&n++})),n},getRosterMessageById:function(t,e){var n=Kt("key_roster_message_store",!0,t)||{};for(var r in n){var o=n[r];if(o&&o.length){var i=o.find((function(t){return t.id==e}));if(i)return i}}},getGroupMessageById:function(t,e){var n=Kt("key_group_message_store",!0,t)||{};for(var r in n){var o=n[r];if(o&&o.length){var i=o.find((function(t){return t.id==e}));if(i)return i}}},clear:function(t,e){"group"==e?pe.deleteGroupMessageByGid(t):pe.deleteRosterMessageByRosterId(t)},clearAll:function(){Wt("key_roster_message_store"),Wt("key_group_message_store")}},le=pe,de={saveNotice:function(){},getNotice:function(){return Kt("key_notice_store")||[]},removeNotice:function(){}},he={saveRosterList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(t)||(t=[t]);var e,n=t.map((function(t){return t.roster_user_id||t.user_id||t})),r=he.getRosterList()||[];e=Array.isArray(r)?Array.from(new Set(r.concat(n))):n,Jt("key_roster_lists",e),he.saveRosterInfo(t)},getRosterList:function(){return Kt("key_roster_lists")},getRosterInfoList:function(){var t=he.getRosterList()||[],e=he.getAllRosterInfos()||{},n=[];return t.forEach((function(t){var r=e[t]||{};n.push(Object.assign({},r,{user_id:t}))})),n},removeRoster:function(t){var e=he.getRosterList(),n=e.indexOf(t);n>=0&&e.splice(n,1),Jt("key_roster_lists",e)},removeRosterList:function(){return Yt("key_roster_lists")},saveRosterInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(t)||(t=[t]);var e=he.getAllRosterInfos()||{};t.forEach((function(t){var n=t.user_id,r={};Object.keys(t).forEach((function(e){var n=t[e];void 0!==n&&(r[e]=n)})),n&&(e[n]=e[n]||{},Object.assign(e[n],r))})),Jt("key_roster_infos",e)},getRosterInfo:function(t){var e=(Kt("key_roster_infos")||{})[t]||{user_id:t};return e&&Object.assign(e,{user_id:t})},getAllRosterInfos:function(){return Kt("key_roster_infos")},clear:function(){Yt("key_roster_infos"),Yt("key_roster_lists")}},ye=he,ge=n(70),ve=n.n(ge),me={errTimer:null,errCount:0};oe("refresh_ratel",(function(t){t&&(at.defaults.baseURL=t)}));var be=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return e.forEach((function(e){if("string"==typeof e&&void 0===t[e]&&n.push(e+" can not be null.."),Array.isArray(e)){var r=!1;e.forEach((function(e){void 0!==t[e]&&(r=!0)})),r||n.push(e.join("")+" can not be all null")}})),n},_e=["app_dns","app/captcha/image","app/captcha/sms","app/captcha/sms_web","app/user/info_pwd","app/wechat_login","mobile_bind_with_sign","qr_code","qr_login","token/id","token/user","user/register"];at.defaults.timeout=2e4,at.interceptors.request.use((function(t){var e,n,r=ee.getToken(),o=ee.getAppid();if(o&&(t.headers.common.app_id=o),r&&(t.headers.common["access-token"]=r),e=t.url,n=!0,_e.forEach((function(t){e.indexOf(t)>-1&&(n=!1)})),n&&!r)throw new Error("you should login  ...");return t}),(function(t){return Promise.reject(t)}));var Ee=function(t){return t.group_id&&(t.group_id=t.group_id-0),t.user_id&&(t.user_id=t.user_id-0),t.new_owner&&(t.new_owner=t.new_owner-0),t.apply_approval&&(t.apply_approval=t.apply_approval-0),t.duration&&(t.duration=t.duration-0),t.limit&&(t.limit=t.limit-0),t.version&&(t.version=t.version-0),t.announcement_id&&(t.announcement_id=t.announcement_id-0),t.user_list&&Array.isArray(t.user_list)&&(t.user_list=t.user_list.map((function(t){return t-0}))),t.user_list&&Array.isArray(t.user_list)&&(t.user_list=t.user_list.map((function(t){return t-0}))),t.file_list&&Array.isArray(t.file_list)&&(t.file_list=t.file_list.map((function(t){return t-0}))),t},we=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;ft.log("========request=============",t,e,n,r,o);var a=be(n,r);if(a.length){var u=a.join(",");return Promise.reject(new Error(u))}var c={},f=e.toLowerCase();return"get"===f||"post"===f&&o?(t.indexOf("?")>0?t+="&":t+="?",t+=ve.a.stringify(n)):c=Ee(n),s&&(o?at.defaults.onDownloadProgress=function(t){t.lengthComputable&&s(t)}:at.defaults.onUploadProgress=function(t){t.lengthComputable&&s(t)}),at[f](t,c,i).then((function(e){Ae();var n=e.data,r=void 0===n?{}:n;if(0!==Object.keys(i).length){if("boolean"==typeof r.data&&r.data)return;if("string"==typeof r.Status&&"OK"===r.Status)return;return Promise.reject({config:i,url:t})}var o=r.data,s=r.code,a=r.message;return 200===s?(ft.log("======request success, ",t,o),o):(402===s&&se("flooNotice",{category:"action",desc:"relogin"}),ft.req(t+""==""+a),Promise.reject({url:t,code:s,message:a}))})).catch((function(t){return Se(),Promise.reject(t)}))};function Ae(){me.errTimer&&clearTimeout(me.errTimer),me.errTimer=null,me.errCount=0}function Se(){me.errTimer&&clearTimeout(me.errTimer),me.errTimer=null,me.errCount=me.errCount+1,me.errCount>=5?(me.errCount=0,se("ratelError")):me.errTimer=setTimeout((function(){me.errCount=0}),18e5)}var Oe=function(t,e){return we(t,"get",e,["app_id"],!0)},Ce=function(t){return we("/token/user","post",t,[["mobile","name"],"password"])},Ne=function(t){return we("/token/id","post",t,["user_id","password"])},ke=function(t){return we("/user/register/v2","post",t,["username","password"])},Re=function(t){return we("/app/user/mobile_bind","post",t,["captcha","mobile"])},Te=function(t){return we("/app/user/mobile_update","post",t,["mobile"])},xe=function(t){return we("/app/captcha/sms","get",t,["mobile"],!0)},Ie=function(t){return we("/app/user/name_check","get",t,["username"],!0)},De=function(t){return we("/app/user/mobile_bind","post",t,["captcha","mobile"])},Ue=function(t){return we("/app/user/mobile_bind_with_sign","post",t,["sign","mobile"])},Me=function(t){return we("/app/user/info_pwd","get",t,["captcha","mobile"],!0)},Pe=function(t){return we("/app/captcha/image","post",t,[])},Be=function(t){return we("/app/captcha/sms_web","get",t,["captcha","image_id","mobile"],!0)},Le=function(t){return we("/roster/accept","post",t,["user_id"],!0)},je=function(t){return we("/roster/apply","post",t,["user_id","alias"])},Fe=function(t){return we("/roster/decline","post",t,["user_id"])},Ge=function(t){return we("/roster/delete","post",t,["user_id"],!0)},qe=function(t){return we("/roster/ext","post",t,["user_id","ext"])},Ve=function(t){return we("/roster/id","get",t,["user_id"])},Je=function(t){return we("/roster/list","get",t,[])},Ke=function(t){return we("/roster/list","post",t,["list"])},Ye=function(t){return we("/roster/name","get",t,["username"])},We=function(t){return we("/roster/apply/list","get",t,["cursor"],!0)},He=function(t){return we("/roster/blocked_list","get",t,[""],!0)},ze=function(t){return we("/roster/block","post",t,["user_id"],!0)},Xe=function(t){return we("/roster/unblock","post",t,["user_id"],!0)},$e=function(t){return we("/group/admin/add","post",t,["group_id","user_list"])},Ze=function(t){return we("/group/admin_list","get",t,["group_id"],!0)},Qe=function(t){return we("/group/admin/remove","post",t,["group_id","user_list"])},tn=function(t){return we("/group/announcement","get",t,["announcement_id","group_id"])},en=function(t){return we("/group/announcement/delete","post",t,["announcement_id","group_id"],!0)},nn=function(t){return we("/group/announcement/edit","post",t,["group_id","content","title"])},rn=function(t){return we("/group/announcement/list","get",t,["group_id"],!0)},on=function(t){return we("/group/create","post",t,["name"])},sn=function(t){return we("/group/destroy","post",t,["group_id"],!0)},an=function(t){return we("/group/info","get",t,["group_id"])},un=function(t){return we("/group/info/avatar","post",t,["group_id","value"])},cn=function(t){return we("/group/info/description","post",t,["group_id","value"])},fn=function(t){return we("/group/info/ext","post",t,["group_id","value"])},pn=function(t){return we("/group/info/name","post",t,["group_id","value"])},ln=function(t){return we("/group/member_list","get",t,["group_id"])},dn=function(t){return we("/group/msg/mute_mode","post",t,["group_id","msg_mute_mode"])},hn=function(t){return we("/group/msg/not_disturb","post",t,["group_id","value"])},yn=function(){return we("/group/public_list","get",{},[])},gn=function(t){return we("/group/banned_list","get",t,["group_id"])},vn=function(t){return we("/group/ban","post",t,["group_id","duration","user_list"])},mn=function(t){return we("/group/unban","post",t,["group_id","user_list"])},bn=function(t){return we("/group/settings","get",t,["group_id"])},_n=function(t){return we("/group/settings/allow_member_invitation","post",t,["group_id","value"])},En=function(t){return we("/group/settings/allow_member_modify","post",t,["group_id","value"])},wn=function(t){return we("/group/settings/enable_read_ack","post",t,["group_id","value"])},An=function(t){return we("/group/settings/history_visible","post",t,["group_id","value"])},Sn=function(t){return we("/group/settings/require_admin_approval","post",t,["group_id","apply_approval"])},On=function(t){return we("/group/settings/ban_all","post",t,["group_id","duration"])},Cn=function(t){return we("/group/settings/unban_all","post",t,["group_id"])},Nn=function(t){return we("/group/transfer","post",t,["group_id","new_owner"])},kn=function(t){return we("/group/user_joined","get",t)},Rn=function(t){return we("/group/apply","post",t,["group_id"])},Tn=function(t){return we("/group/apply/handle","post",t,["approval","group_id","user_id"])},xn=function(t){return we("/group/blocked_list","get",t,["group_id"])},In=function(t){return we("/group/block","post",t,["user_list","group_id"])},Dn=function(t){return we("/group/unblock","post",t,["user_list","group_id"])},Un=function(t){return we("/group/kick","post",t,["user_list","group_id"])},Mn=function(t){return we("/group/invite","post",t,["user_list","group_id"])},Pn=function(t){return we("/group/invite/handle","post",t,["approval","user_id","group_id"])},Bn=function(t){return we("/group/info/batch","post",t,["group_list"])},Ln=function(t){return we("/group/members/display_name","post",t,["group_id","user_list"])},jn=function(t){return we("/group/leave","post",t,["group_id"],!0)},Fn=function(t){return we("/group/display_name","post",t,["group_id","value"])},Gn=function(t){return we("/group/application_list","post",t,["group_list"])},qn=function(){return we("/group/invitation_list","get",{},[])},Vn=function(t){return we("/group/file/list","get",t,["group_id"],!0)},Jn=function(t){return we("/group/file/delete","post",t,["file_list","group_id"])},Kn=function(t){return we("/group/file/upload","post",t,["name","size","url","group_id"])},Yn=function(t){return we("/user/authmode","post",t,["value"],!0)},Wn=function(t){return we("/user/avatar","post",t,["avatar"])},Hn=function(t){return we("/user/mobile","post",t,["mobile"],!0)},zn=function(t){return we("/user/nickname","post",t,["nick_name"],!0)},Xn=function(){return we("/user/profile","get",{},[])},$n=function(t){return we("/user/profile","post",t,[])},Zn=function(t){return we("/user/push","post",t,["value"])},Qn=function(t){return we("/user/push/detail","post",t,["value"])},tr=function(t){return we("/user/push/limit","post",t,["no_push_end_hour","no_push_start_hour"])},er=function(t){return we("/user/push/nickname","post",t,["value"])},nr=function(){return we("/user/settings","get",{},[])},rr=function(t){return we("/user/settings","post",t,["user_id"])},or=function(t){return we("/user/sounds","post",t,["value"])},ir=function(t){return we("/user/vibratory","post",t,["value"])},sr=function(t){return we("/user/token/bind","post",t,["device_sn","device_token","notifier_name"])},ar=function(t){return we("/user/token/unbind","post",t,[],!0)},ur=function(t){return we("/file/upload/forward","get",t,["file_sign","access-token","to_id","to_type"],!0)},cr=function(t,e,n,r){return we(t,"post",e,[],!1,n,r)},fr=function(t){return we("/file/upload/avatar/user","get",t,[],!0)},pr=function(t){return we("/file/upload/avatar/group","get",t,["group_id"],!0)},lr=function(t){return we("/file/upload/chat","get",t,["file_type","to_id","to_type"],!0)},dr=function(t,e,n,r){return we(t,"get",e,[],!0,n,r)},hr=function(t){return we("/app/qr_code","get",t,[])},yr=function(t){return we("/app/qr_login","get",t,["qr_code"])},gr=function(t){return we("/app/qrcode/group_sign","get",t,["group_id"],!0)},vr=function(t){return we("/app/qrcode/group_invite","get",t,["qr_info"],!0)},mr=function(t){return we("/user/bind_openid","get",t,["open_id"],!0)},br=function(t){return we("/app/wechat_login","get",t,["code"],!0)},_r=function(t){return we("/app/support_staff","get",t,[],!0)},Er=function(){return we("/app/wechat/unbind","post")},wr=function(){return we("/app/wechat/is_bind","get")},Ar=function(t){return we("/app/wechat/bind","post",t,["open_id","type"])},Sr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.uid=t.uid||0;var e=void 0===t.deviceSN?ee.getDeviceSN():t.deviceSN;this.deviceSN=e};Sr.prototype.setUid=function(t){this.uid=t},Sr.prototype.setDeviceSN=function(t){this.deviceSN=t};var Or=Sr;function Cr(t){var e=t.operation,n=void 0===e?{type:Ct.UNKNOWN,mid:0}:e;void 0!==(t=Object.assign({},{type:Ot.NORMAL,ctype:Nt.TEXT,content:"",operation:n},t)).type&&(this.type=t.type),void 0!==t.from&&(this.from=t.from),void 0!==t.to&&(this.to=t.to),void 0!==t.content&&(this.content=t.content),void 0!==t.ctype&&(this.ctype=t.ctype),void 0!==t.operation&&(this.operation=t.operation),void 0!==t.config&&(this.config=t.config),void 0!==t.attachment&&(this.attachment=t.attachment),void 0!==t.ext&&(this.ext=t.ext),void 0!==t.qos&&(this.qos=t.qos),void 0!==t.sender_name&&(this.sender_name=t.sender_name),void 0!==t.is_system&&(this.is_system=t.is_system),void 0!==t.priority&&(this.priority=t.priority)}Cr.prototype={setType:function(t){this.type=t},setFrom:function(t){this.from=t},setTo:function(t){this.to=t},setContent:function(t){this.content=t},setCtype:function(t){this.ctype=t},setOperation:function(t){this.operation=t},setConfig:function(t){this.config=t},setAttachment:function(t){this.attachment=t},setExt:function(t){this.ext=t},setQos:function(t){this.qos=t},setSendername:function(t){this.sender_name=t},setIssystem:function(t){this.is_system=t},setPriority:function(t){this.priority=t}};var Nr=Cr;function kr(t){void 0!==(t=Object.assign({},{vsn:mt.XSYNC_V1,compress_method:_t.NONE},t)).vsn&&(this.vsn=t.vsn),void 0!==t.compress_method&&(this.compress_method=t.compress_method),void 0!==t.command&&(this.command=t.command),void 0!==t.payload&&(this.payload=t.payload),void 0!==t.encrypt_method&&(this.encrypt_method=t.encrypt_method),void 0!==t.encrypt_key&&(this.encrypt_key=t.encrypt_key),void 0!==t.check_sum&&(this.check_sum=t.check_sum),void 0!==t.tag&&(this.tag=t.tag)}kr.prototype={setVsn:function(t){this.vsn=t},setCompressmethod:function(t){this.compress_method=t},setCommond:function(t){this.command=t},setPayload:function(t){this.payload=t},setEncryptmethod:function(t){this.encrypt_method=t},setEncryptkey:function(t){this.encrypt_key=t},setChecksum:function(t){this.check_sum=t},setTag:function(t){this.tag=t}};var Rr=kr;function Tr(t){void 0!==(t=Object.assign({},{encrypt_method:At.ENCRYPT_NONE,os_type:wt.WEB},t)).status&&(this.status=t.status),void 0!==t.xid&&(this.xid=t.xid),void 0!==t.encrypt_method&&(this.encrypt_method=t.encrypt_method),void 0!==t.encrypt_key&&(this.encrypt_key=t.encrypt_key),void 0!==t.password&&(this.password=t.password),void 0!==t.token&&(this.token=t.token),void 0!==t.os_type&&(this.os_type=t.os_type),void 0!==t.sdk_vsn&&(this.sdk_vsn=t.sdk_vsn),void 0!==t.is_manual_login&&(this.is_manual_login=t.is_manual_login),void 0!==t.device_guid&&(this.device_guid=t.device_guid),void 0!==t.device_notifier&&(this.device_notifier=t.device_notifier),void 0!==t.device_token&&(this.device_token=t.device_token),void 0!==t.device_info&&(this.device_info=t.device_info),void 0!==t.last_login_time&&(this.last_login_time=t.last_login_time)}Tr.prototype={setStatus:function(t){this.status=t},setXid:function(t){this.xid=t},setEncryptmethod:function(t){this.encrypt_method=t},setEncryptkey:function(t){this.encrypt_key=t},setPassword:function(t){this.password=t},setToken:function(t){this.token=t},setOstype:function(t){this.os_type=t},setSdkvsn:function(t){this.sdk_vsn=t},setIsmanuallogin:function(t){this.is_manual_login=t},setDeviceguid:function(t){this.device_guid=t},setDevicenotifier:function(t){this.device_notifier=t},setDevicetoken:function(t){this.device_token=t},setDeviceinfo:function(t){this.device_info=t},setLastlogintime:function(t){this.last_login_time=t}};var xr=Tr;function Ir(t){void 0!==(t=Object.assign({},t)).status&&(this.status=t.status),void 0!==t.metas&&(this.metas=t.metas),void 0!==t.next_key&&(this.next_key=t.next_key),void 0!==t.xid&&(this.xid=t.xid),void 0!==t.client_mid&&(this.client_mid=t.client_mid),void 0!==t.server_mid&&(this.server_mid=t.server_mid),void 0!==t.server_time&&(this.server_time=t.server_time),void 0!==t.is_full_sync&&(this.is_full_sync=t.is_full_sync),void 0!==t.prev_mid&&(this.prev_mid=t.prev_mid),void 0!==t.is_eager_sync&&(this.is_eager_sync=t.is_eager_sync)}Ir.prototype={setStatus:function(t){this.status=t},setMetas:function(t){this.metas=t},setNextkey:function(t){this.next_key=t},setXid:function(t){this.xid=t},setClientmid:function(t){this.client_mid=t},setServermid:function(t){this.server_mid=t},setServertime:function(t){this.server_time=t},setIsfullsync:function(t){this.is_full_sync=t},setPrevmid:function(t){this.prev_mid=t},setIseagersync:function(t){this.is_eager_sync=t}};function Dr(t){void 0!==(t=Object.assign({},t)).xid&&(this.xid=t.xid),void 0!==t.key&&(this.key=t.key),void 0!==t.meta&&(this.meta=t.meta),void 0!==t.is_full_sync&&(this.is_full_sync=t.is_full_sync),void 0!==t.full_sync_num&&(this.full_sync_num=t.full_sync_num)}Dr.prototype={setXid:function(t){this.xid=t},setKey:function(t){this.key=t},setMeta:function(t){this.meta=t},setIsfullsync:function(t){this.is_full_sync=t},setFullsyncnum:function(t){this.full_sync_num=t}};var Ur=Dr;function Mr(t){void 0!==(t=Object.assign({},t)).id&&(this.id=t.id),void 0!==t.from&&(this.from=t.from),void 0!==t.to&&(this.to=t.to),void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.ns&&(this.ns=t.ns),void 0!==t.payload&&(this.payload=t.payload)}Mr.prototype={setId:function(t){this.id=t},setFrom:function(t){this.from=t},setTo:function(t){this.to=t},setTimestamp:function(t){this.timestamp=t},setNs:function(t){this.ns=t},setPayload:function(t){this.payload=t}};var Pr=Mr;function Br(t){void 0!==t.type&&(this.type=t.type),void 0!==t.operation&&(this.operation=t.operation)}Br.prototype={setType:function(t){this.type=t},setOperation:function(t){this.operation=t}};var Lr=Br,jr=ee.getDeviceSN(),Fr=ee.getDeviceGuid();oe("userKicked",(function(){ft.log("user is kicked ... will new devicesn and guid, old Guid",Fr),jr=0,Fr=999999999+Math.floor(214e4*Math.random())+"",ft.log("new Guid",Fr)})),oe("temporary_deviceSN",(function(t){jr=t}));var Gr=function(t){var e=new Rr;e.setCommond(bt.SYNC);var n=new Ur;return t.xid&&n.setXid(t.xid),t.next_key&&n.setKey(t.next_key),e.setPayload(n),e},qr=function(t){var e=t.gid,n=t.content,r=t.type,o=void 0===r?"text":r,i=t.attachment,s=t.ext,a=t.priority,u=Object.keys(Nt).indexOf(o.toUpperCase()),c=new Or({uid:ee.getUid()-0,deviceSN:jr}),f=new Or({uid:e,deviceSN:0}),p=new Rr;p.setCommond(bt.SYNC);var l=new Ur,d=new Nr({from:c,to:f,content:n,ctype:u,type:Ot.GROUPCHAT,ext:s});a>0&&(d.priority=a),u>0&&i&&(d.attachment=JSON.stringify(i));var h=new Pr({id:(new Date).getTime(),from:c,to:f,payload:d,ns:St.MESSAGE,timestamp:(new Date).getTime()});return l.setMeta(h),p.setPayload(l),p},Vr=function(t){var e=t.uid,n=t.content,r=t.type,o=void 0===r?"text":r,i=t.ext,s=t.attachment;se("imSendRosterMessage",t);var a=Object.keys(Nt).indexOf(o.toUpperCase()),u=new Or({uid:ee.getUid()-0,deviceSN:jr}),c=new Or({uid:e-0,deviceSN:0}),f=new Rr;f.setCommond(bt.SYNC);var p=new Ur,l=new Nr({from:u,to:c,content:n,ctype:a,type:Ot.CHAT,ext:i});a>0&&s&&(l.attachment=JSON.stringify(s));var d=new Pr({id:(new Date).getTime(),from:u,to:c,payload:l,ns:St.MESSAGE,timestamp:(new Date).getTime()});return p.setMeta(d),f.setPayload(p),f},Jr=function(t,e){e=jt(e);var n=new Rr;n.setCommond(bt.SYNC);var r=new Or({uid:ee.getUid(),deviceSN:jr}),o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur,s=new Nr({from:r,to:o,ctype:Nt.COMMAND,type:Ot.OPER,operation:{type:Ct.READ_ACK,mid:e}}),a=new Pr({id:(new Date).getTime()+Math.floor(256*Math.random()),from:r,to:o,payload:s,ns:St.MESSAGE});return i.setMeta(a),n.setPayload(i),n},Kr=function(t,e){e=jt(e);var n=new Rr;n.setCommond(bt.SYNC);var r=new Or({uid:ee.getUid(),deviceSN:jr}),o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur,s=new Nr({ctype:Nt.COMMAND,type:Ot.OPER,operation:{type:Ct.RECALL,mid:e,xid:o}}),a=new Pr({id:parseInt((new Date).getTime()+""+Math.floor(256*Math.random())),from:r,to:o,payload:s,ns:St.MESSAGE});return i.setMeta(a),n.setPayload(i),n},Yr=function(t,e){var n=new Rr;n.setCommond(bt.SYNC);var r=new Or({uid:ee.getUid(),deviceSN:jr}),o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur,s=new Nr({from:r,to:r,ctype:Nt.COMMAND,type:Ot.OPER,operation:{type:Ct.READ_ALL,xid:o,mid:e}}),a=new Pr({id:parseInt((new Date).getTime()+""+Math.floor(256*Math.random())),from:r,to:r,payload:s,ns:St.MESSAGE});return i.setMeta(a),n.setPayload(i),n},Wr=function(t,e,n){var r=n.content,o=n.attach,i=n.type;return t?Vr({uid:t,content:r,type:i,attachment:o}):qr({gid:e,content:r,type:i,attachment:o})},Hr=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ut.DELETE;e&&(n=Ut.DELETE_EVERYWHERE);var r=new Or({uid:ee.getUid()-0,deviceSN:jr}),o=new Or({uid:t}),i=new Lr({type:Dt.OPER,operation:{xid:o,type:n}}),s=new Pr({id:(new Date).getTime(),from:r,payload:i,ns:St.CONVERSATION}),a=new Ur;a.setMeta(s);var u=new Rr;return u.setCommond(bt.SYNC),u.setPayload(a),u},zr={},Xr=!1,$r=function(t){var e=t.status,n=void 0===e?{}:e,r=n.code,o=n.reason;if(r===Et.OK)return!0;if(void 0===n.code)return!0;if(r!==Et.INVALID_TOKEN&&r!==Et.UNAUTHORIZED||se("flooNotice",{category:"action",desc:"relogin"}),r!==Et.USER_FROZEN&&r!==Et.INVALID_LICENSE&&r!==Et.LICENSE_LIMIT&&r!==Et.APP_FROZEN||se("flooNotice",{category:"action",desc:"relogin_manually"}),r===Et.USER_BANNED){se("flooError",{category:"USER_BANNED",desc:""})}else if(r===Et.USER_FROZEN){se("flooError",{category:"USER_FROZEN",desc:"App"})}else if(r===Et.APP_FROZEN){se("flooError",{category:"APP_FROZEN",desc:"APP IM"})}else if(r===Et.INVALID_LICENSE){se("flooError",{category:"LICENSE",desc:" LICENSE"})}else if(r===Et.LICENSE_LIMIT){se("flooError",{category:"LICENSE",desc:" LICENSE "})}else{se("flooError",{category:r,desc:o})}var i=t.client_mid;return i&&se("onSendingMessageStatusChanged",{status:"failed",mid:Lt(i)}),ft.error("ret error ......code:",r,"...reason:",o),!1},Zr=function(t){var e=t.unread,n=void 0===e?[]:e;se("imReceivedUnread",n),n.forEach((function(t){var e=t.xid;t.n>0&&se("sendMessage",Gr({xid:e,next_key:0}))}))},Qr=function t(e){var n=e.xid,r=n.uid,o=void 0===r?0:r;zr[o+""]?setTimeout((function(){zr[o]=!1,t(e)}),3e3):(zr[o+""]=!0,se("sendMessage",function(t){t.uid=t.uid||0;var e=new Rr;e.setCommond(bt.SYNC);var n=new Ur;return n.setXid(t),e.setPayload(n),e}(n)))},to=function(t){if(!$r(t))return se("flooNotice",{category:"loginMessage",desc:"login socket failure ......"}),void se("loginFail","socket_failure");var e=t.xid,n=(void 0===e?{}:e).deviceSN;se("temporary_deviceSN",n),Xr||n&&ee.saveDeviceSN(n),se("flooNotice",{category:"loginMessage",desc:"login socket success....."}),se("loginSuccess",{}),se("sendMessage",{vsn:0,compress_method:0,command:0})},eo=function(t){if($r(t)){var e=t.metas,n=void 0===e?[]:e,r=t.xid,o=t.is_full_sync,i=t.client_mid;if(!o&&i&&jt(i).gt(0))return se("receivedSendMessage",i),void setTimeout((function(){le.dealSendedRosterMessage(t),le.dealSendedGroupMessage(t)}),20);var s=t.next_key,a=void 0===s?0:s;if(0===a||jt(a).eq(0)){var u=r.uid;delete zr[(void 0===u?0:u)+""]}o?(n&&n.length&&no(n),se("onReceiveHistoryMsg",{next:a})):(n.length&&no(n),0===a||jt(a).eq(0)||se("sendMessage",Gr({xid:r,next_key:a})))}},no=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var e=t.ns;e===St.UNKNOWN&&ft.log("received unknown message ...",t),e===St.MESSAGE&&oo(t),e===St.GROUP_NOTICE&&io(t),e===St.ROSTER_NOTICE&&so(t),e===St.USER_NOTICE&&ao(t),e===St.CONVERSATION&&ro(t)}))},ro=function(t){var e=t.payload,n=void 0===e?{}:e,r=n.type,o=n.operation;if(r===Dt.OPER)if(o.type==Ut.DELETE||o.type==Ut.DELETE_EVERYWHERE){var i=o.xid;se("deleteConversation",{id:i.uid,source:"other_operation"})}else ft.log("received unknown conversation operation: ",o);else ft.log("received unknown conversation: ",t)},oo=function(t){var e=t.payload,n=void 0===e?{}:e,r=n.type,o=n.operation;r===Ot.NORMAL&&se("messageNormal",t),r===Ot.CHAT&&se("imRosterMessage",t),r===Ot.GROUPCHAT&&se("imGroupMessage",t),r===Ot.OPER&&(o.type===Ct.UNKNOWN&&ft.log("received unknown operation: ",t),t.isReceived=!0,se("onActionMessage",t))},io=function(t){var e=t.payload,n=(void 0===e?{}:e).type;n===Rt.UNKNOWN&&ft.log("received unknown groupnotice: ",t),n===Rt.PRESENCE&&se("imGroupPresence",t),n===Rt.ABSENCE&&se("imGroupAbesence",t),n===Rt.CREATED&&se("imGroupCreated",t),n===Rt.DESTROYED&&se("imGroupDestoryed",t),n===Rt.JOINED&&se("imGroupJoined",t),n===Rt.APPLYED&&se("imGroupApplyed",t),n===Rt.APPLY_ACCEPTED&&se("imGroupApplyAccepted",t),n===Rt.APPLY_DECLINED&&se("imGroupApplyDeclined",t),n===Rt.INVITED&&se("imGroupInvited",t),n===Rt.INVITE_ACCEPTED&&se("imGroupInvitedAccepted",t),n===Rt.INVITE_DECLINED&&se("imGroupInvitedDeclined",t),n===Rt.KICKED&&se("imGroupKicked",t),n===Rt.LEAVED&&se("imGroupLeaved",t),n===Rt.BANNED&&se("imGroupBaned",t),n===Rt.UNBANNED&&se("imGroupUnbaned",t),n===Rt.OWNER_ASSIGNED&&se("imGroupOwnerAssigned",t),n===Rt.ADMIN_GRANTED&&se("imGroupAdminGranted",t),n===Rt.ADMIN_REVOKED&&se("imGroupAdminRevoked",t),n===Rt.BLOCKED&&se("imGroupBlocked",t),n===Rt.UNBLOCKED&&se("imGroupUnblocked",t),n===Rt.MUTED&&se("imGroupMuted",t),n===Rt.UNMUTED&&se("imGroupUnmuted",t),n===Rt.INFO_UPDATED&&se("imGroupInfoUpdated",t),n===Rt.ANNOUNCEMENT_UPDATED&&se("imGroupAnnouncementUpdated",t)},so=function(t){var e=t.payload,n=(void 0===e?{}:e).type;n===xt.UNKNOWN&&ft.log("received unknown rosterNotice: ",t),n===xt.ADDED&&se("imRosterAdded",t),n===xt.REMOVED&&se("imRosterRemoved",t),n===xt.APPLIED&&se("imRosterApplied",t),n===xt.ACCEPTED&&se("imRosterAccepted",t),n===xt.DECLINED&&se("imRosterDeclined",t),n===xt.BANNED&&se("imRosterBaned",t),n===xt.UNBANNED&&se("imRosterUnbaned",t),n===xt.INFO_UPDATED&&se("imRosterInfoUpdated",t)},ao=function(t){var e=t.payload,n=(void 0===e?{}:e).type;n!==It.UNKNOWN&&n!==It.PASSWORD_CHANGED&&n!==It.FROZEN&&n!==It.REMOVED&&n!==It.KICKED_BY_OTHER_DEVICE&&n!==It.DEVICE_REMOVED&&n!==It.CLUSTER_CHANGED||(ee.deleteToken(),ee.deleteDeviceSN(),se("flooNotice",{category:"action",desc:"relogin_manually"})),n===It.UNKNOWN&&ft.log("received unknown userNotice: ",t),n===It.KICK_BY_SAME_DEVICE&&(Xr=!0,se("userKicked")),se("flooNotice",{category:"userNotice",desc:Object.keys(It)[n]})},uo=function(t){var e=t.command,n=void 0===e?0:e,r=t.payload;n===bt.UNREAD&&Zr(r),n===bt.SYNC&&eo(r),n===bt.NOTICE&&Qr(r),n===bt.PROVISION&&to(r)},co=n(1),fo=n.n(co),po=n(5),lo=n.n(po),ho=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.Provision"),yo=function(t){return ho.encode(t).finish()},go=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.XID"),vo=function(t){return go.encode(t).finish()},mo=n(175),bo=n.n(mo),_o=fo.a.Root.fromJSON(bo.a).lookupType("im.floo.protobuf.MessageBody"),Eo=function(t){return _o.decode(t)},wo=function(t){return _o.encode(t).finish()},Ao=n(176),So=n.n(Ao),Oo=fo.a.Root.fromJSON(So.a).lookupType("im.floo.protobuf.GroupNotice"),Co=function(t){return Oo.decode(t)},No=function(t){t.from=vo(t.from);var e=[];return(t.to||[]).forEach((function(t){e.push(vo(t))})),t.to=e,Oo.encode(t).finish()},ko=n(177),Ro=n.n(ko),To=fo.a.Root.fromJSON(Ro.a).lookupType("im.floo.protobuf.RosterNotice"),xo=function(t){return To.decode(t)},Io=function(t){return To.encode(t).finish()},Do=n(178),Uo=n.n(Do),Mo=fo.a.Root.fromJSON(Uo.a).lookupType("im.floo.protobuf.UserNotice"),Po=function(t){return Mo.decode(t)},Bo=function(t){return Mo.encode(t).finish()},Lo=n(179),jo=n.n(Lo),Fo=fo.a.Root.fromJSON(jo.a).lookupType("im.floo.protobuf.Info"),Go=function(t){return Fo.decode(t)},qo=function(t){return Fo.encode(t).finish()},Vo=n(180),Jo=n.n(Vo),Ko=fo.a.Root.fromJSON(Jo.a).lookupType("im.floo.protobuf.Conversation"),Yo=function(t){return Ko.decode(t)},Wo=function(t){return Ko.encode(t).finish()},Ho=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.Meta"),zo=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.SyncUL"),Xo=function(t){return t.meta&&(t.meta=function(t){var e=t.ns,n=t.payload;return e===St.MESSAGE&&(t.payload=wo(n)),e===St.GROUP_NOTICE&&(t.payload=No(n)),e===St.ROSTER_NOTICE&&(t.payload=Io(n)),e===St.USER_NOTICE&&(t.payload=Bo(n)),e===St.INFO&&(t.payload=qo(n)),e===St.CONVERSATION&&(t.payload=Wo(n)),Ho.create(t)}(t.meta)),zo.encode(t).finish()},$o=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.UnreadDL"),Zo=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.SyncDL"),Qo=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.Notice"),ti=function(t){return{xid:function(t){return go.decode(t)}(t)}},ei=fo.a.Root.fromJSON(lo.a).lookupType("im.floo.protobuf.Frame");fo.a.util.Long=vt.a,fo.a.configure();var ni=function(t){var e=t.payload,n=t.command;return e&&(n===bt.UNREAD?t.payload=function(t){return $o.encode(t).finish()}(e):n===bt.SYNC?t.payload=Xo(e):n===bt.NOTICE?t.payload=function(t){return Qo.encode(t).finish()}(e):n===bt.PROVISION&&(t.payload=yo(e))),ei.encode(t).finish()},ri=function(t){t=new Uint8Array(t);var e=ei.decode(t),n=e.command,r=e.payload;return n===bt.UNREAD?e.payload=function(t){return $o.decode(t)}(r):n===bt.SYNC?e.payload=function(t){var e=Zo.decode(t),n=e.metas,r=[];return(void 0===n?[]:n).forEach((function(t){var e=t.ns,n=t.payload;e===St.MESSAGE&&(t.payload=Eo(n)),e===St.GROUP_NOTICE&&(t.payload=Co(n)),e===St.ROSTER_NOTICE&&(t.payload=xo(n)),e===St.USER_NOTICE&&(t.payload=Po(n)),e===St.INFO&&(t.payload=Go(n)),e===St.CONVERSATION&&(t.payload=Yo(n)),r.push(t)})),e.metas=r,e}(r):n===bt.NOTICE?e.payload=ti(r):n===bt.PROVISION&&(e.payload=function(t){return ho.decode(t)}(r)),e},oi={},ii=0,si=null,ai="normal",ui=null;oe("refresh_fireplace",(function(t){oi=Object.assign({fireplace:t},oi)})),oe("loginSuccess",(function(){ii=0,si&&clearInterval(si),si=setInterval((function(){hi({vsn:0,compress_method:0,command:0})}),5e4)})),oe("sendMessage",(function(t){hi(t)})),oe("userKicked",(function(){ai="kick"})),oe("reconnect",(function(t){var e=t.reason;ft.warn("socket reconnect due to ",e),"normal"===ai&&fi()}));var ci=function(){ui&&ui.destroy();var t=oi.fireplace;ft.log("................................. will connect : ",t),se("flooNotice",{category:"loginMessage",desc:"socket connecting..."}),(ui=s()(t,{timeout:1e4+2e4*ii,transports:["websocket"]})).on("connect",(function(){ft.log("=================  socket connected "),se("flooNotice",{category:"loginMessage",desc:"socket connect success..."}),li()})),ui.on("frame",(function(t){di(t)})),ui.on("disconnect",(function(t){ft.log("=================  socket disconnected due to ",t),se("reconnect",{reason:t})})),ui.on("error",(function(t){ft.log("=================  socket error: ",t),se("reconnect",{reason:"SocketError"})})),ui.on("reconnect_attempt",(function(t){ft.log("=================  socket reconnect_attempt: ",t),ui.io.opts.transports=["websocket"]}))},fi=function(){ii>=5?(ii=0,se("fireplaceError")):ii++,pi()},pi=function(){var t=Math.floor(9e3*Math.random())+1e3;ft.error("================= socket will reconnect in ",t," ms (",ii,")"),setTimeout((function(){ui.connect()}),t)},li=function(){ft.log("=============== sending proversion =========="),se("flooNotice",{category:"loginMessage",desc:"logining socket service..."}),se("sendMessage",function(t){var e=new Or({uid:t.uid-0,deviceSN:jr}),n=new xr;Fr||(Fr=ee.getDeviceGuid()),n.setXid(e),n.setToken(t.token),n.setDeviceguid(Fr),n.setSdkvsn("2.0.0"),n.setEncryptmethod(At.AES_CBC_128),n.setEncryptkey(ee.getAesKey()),n.setDeviceinfo("Web");var r=new Rr;return r.setCommond(bt.PROVISION),r.setPayload(n),r}({token:ee.getToken(),uid:ee.getUid()}))},di=function(t){var e=function(t){return ri(t)}(t);ft.info("RECV :"+JSON.stringify(Pt(e))),uo(e)},hi=function(t){ft.info("SEND :"+JSON.stringify(Pt(t)));var e=ni(t),n=new ArrayBuffer(e.length),r=new Uint8Array(n);e.forEach((function(t,e){r[e]=t})),ui.emit("frame",n)},yi=Object.assign(o,{connect:function(t){oi=t,ii=0,ai="normal",ci()},sendMessage:hi,disConnect:function(){ai="logout",ui&&ui.disconnect()}}),gi={asyncGetRosterIdList:function(t){return t?yi.rosterList({}).then((function(t){return ye.saveRosterList(t),t.map((function(t){return t.user_id||t}))})):Promise.resolve(ye.getRosterList())},asyncGetRosterInfo:function(t,e){var n=ye.getRosterInfo(t);return n&&n.username&&!e?Promise.resolve(n):yi.rosterListPost({list:[t]}).then((function(e){return ye.saveRosterInfo(e),se("onRosterInfoUpdate",[t]),e.length&&e[0]||{}}))},asyncRegester:function(t){return yi.userRegister(t)},asnycGetRosterListDetailByIds:function(t){if(!t||!t.length)return Promise.resolve({});var e=ye.getAllRosterInfos(),n=[];t.forEach((function(t){var r=e[t];r&&r.username||n.push(t)}));var r=Array.from(new Set(n));return r.length?yi.rosterListPost({list:r}).then((function(t){return ye.saveRosterInfo(t),se("onRosterInfoUpdate",r),t})):Promise.resolve()},asyncGetUserProfile:function(t){var e=ee.getProfile();return e&&(e.name||e.mobile)&&!t?Promise.resolve(e):yi.userProfile().then((function(t){return ee.saveProfile(t),t}))},getRosterMessageByRid:function(t){return le.getRosterMessage(t)},readRosterMessage:function(t,e){se("imReadRosterMessage",{roster_id:t,mid:e})},asyncDeleteRoster:function(t){return yi.rosterDelete(t).then((function(e){return ye.removeRoster(t.user_id),ue.deleteRecentById(t.user_id),se("onRosterListUpdate"),e}))},getAllRosterDetail:function(){return ye.getAllRosterInfos()},recallMessage:function(t,e){var n=Kr(t,e);se("swapSendMessage",Pt(n)),se("sendMessage",n)},deleteMessage:function(t,e){var n=function(t,e){e=jt(e);var n=new Rr;n.setCommond(bt.SYNC);var r=new Or({uid:ee.getUid(),deviceSN:jr}),o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur,s=new Nr({ctype:Nt.COMMAND,type:Ot.OPER,operation:{type:Ct.DELETE,mid:e,xid:o}}),a=new Pr({id:parseInt((new Date).getTime()+""+Math.floor(256*Math.random())),from:r,to:r,payload:s,ns:St.MESSAGE});return i.setMeta(a),n.setPayload(i),n}(t,e);se("swapSendMessage",Pt(n)),se("sendMessage",n)},getUnreadCount:function(t){return le.getUnreadByRosterId(t)},unreadMessage:function(t,e){var n=function(t,e){e=jt(e);var n=new Rr;n.setCommond(bt.SYNC);var r=new Or({uid:ee.getUid(),deviceSN:jr}),o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur,s=new Nr({ctype:Nt.COMMAND,type:Ot.OPER,operation:{type:Ct.READ_CANCEL,mid:e,xid:o}}),a=new Pr({id:parseInt((new Date).getTime()+""+Math.floor(256*Math.random())),from:r,to:r,payload:s,ns:St.MESSAGE});return i.setMeta(a),n.setPayload(i),n}(t,e);se("swapSendMessage",Pt(n)),se("sendMessage",n)},getRosterInfo:function(t){return ye.getRosterInfo(t)},asyncGetApplyList:yi.rosterApplylist,asyncGetBlockedlist:yi.rosterBlockedlist,asyncBlockeAdd:yi.rosterBlockedAdd,asyncBlockeRemove:yi.rosterBlockeRemove,asyncApply:yi.rosterApply,asyncAccept:yi.rosterAccept,asyncDecline:yi.rosterDecline,asyncUpdateRosterExt:yi.rosterExt,asyncSearchRosterByName:yi.rosterName,asyncSearchRosterById:yi.rosterId};oe("imRostersGroupslistReady",(function(t){var e=t.rosters;ye.saveRosterList([].concat(e)),e.push(ee.getUid()),_i(e)}));var vi={},mi=function(t){return(new Date).getTime()-(vi[t]||0)<1e3},bi=function(t){var e=(new Date).getTime();vi[t]=e},_i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(t)||(t=[t]);var e=ye.getAllRosterInfos()||{},n=[];t.forEach((function(t){if((t=t.user_id||t)>0){var r=e[t]||{},o=r.avatar,i=r.nick_name,s=r.username;o||i||s||t&&!mi(t)&&n.push(t)&&bi(t)}})),n.length&&Ai(n)},Ei=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(t)||(t=[t]),e)Si(t);else{var n=zt.getAllGroupInfos()||{},r=[];t.forEach((function(t){var e=t.group_id||t;t>0&&((n[e]||{}).name||r.push(e))})),r.length&&Si(r)}},wi=[],Ai=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.filter((function(t){return wi.indexOf(t)<0}));e.length&&Ke({list:e}).then((function(t){e.forEach((function(e){t.findIndex((function(t){return t.user_id==e}))<0&&wi.push(e)})),ye.saveRosterInfo(t),se("onRosterListUpdate")}))},Si=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&Bn({group_list:t}).then((function(t){zt.saveGroupInfo(t),se("onGroupListUpdate")}))},Oi=function(t,e,n,r){if(n){var o=zt.getGroupMembers(t);if(!o||!o.length)return}void 0!==e&&(Array.isArray(e)||(e=[e]),Ln({group_id:t,user_list:e}).then((function(e){if(e&&e.length){var n=[],o=ye.getAllRosterInfos();e.forEach((function(t){o[t.user_id]&&o[t.user_id].username?(t.display_name=t.display_name||o[t.user_id].username,t.avatar=o[t.user_id].avatar):n.push(t.user_id)})),n.length?Ke({list:n}).then((function(n){ye.saveRosterInfo(n);var o=ye.getAllRosterInfos();e=e.map((function(t){return t.display_name||(t.display_name=t.display_name||o[t.user_id].username),t.avatar=o[t.user_id].avatar,t})),zt.saveGroupMembers(t,e,r),se("onGroupMemberChanged",t)})):(zt.saveGroupMembers(t,e,r),se("onGroupMemberChanged",t))}})))},Ci=function(t,e){zt.removeGroupMembers(t,e),se("onGroupMemberChanged",t)};oe("imRostersGroupslistReady",(function(t){var e=t.groups;zt.saveJoinedGroups([].concat(e)),Ei(e)})),oe("imRosterMessage",(function(t){var e=Gt(t),n=e.ext,r=void 0===n?"":n,o=e.from,i=e.to,s={};try{s=JSON.parse(r)}catch(t){}if(void 0!==s.input_status&&o!=ee.getUid())se("onInputStatusMessage",{ext:r,from:o,to:i});else{le.saveRosterMessage(e),e.toType="roster",ue.saveRecent(e);var a=ee.getUid()==o?i:o;_i(a),se("onUnreadChange",a)}se("onRosterMessage",e)})),oe("imSendRosterMessage",(function(t){_i(t.uid)})),oe("imGetRecent",(function(t){_i(t)})),oe("imGroupMessage",(function(t){var e=Gt(t);le.saveGroupMessage(e),e.toType="group",ue.saveRecent(e);var n=ee.getUid(),r=e.config;r&&r.mentionList&&r.mentionList.indexOf(n)>=0&&se("onMentionMessage",e),se("onGroupMessage",e)})),oe("imReceivedUnread",(function(t){var e=t.filter((function(t){return 1===t.type})).map((function(t){return Lt(t.xid.uid)})),n=t.filter((function(t){return 2===t.type})).map((function(t){return Lt(t.xid.uid)}));Ni(e),_i(e),ki(n),Ei(n)}));var Ni=function(t){var e=ye.getAllRosterInfos()||{},n=[];t.forEach((function(t){var r=e[t]||{},o=r.avatar,i=r.nick_name,s=r.username;o||i||s||t&&!mi(t)&&n.push(t)&&bi(t)})),n.length?Ke({list:n}).then((function(e){ye.saveRosterInfo(e),ue.saveUnreadRecent(t,"roster")})):ue.saveUnreadRecent(t,"roster")},ki=function(t){var e=zt.getAllGroupInfos()||{},n=[];t.forEach((function(t){(e[t]||{}).name||t&&n.push(t)})),n.length?Bn({group_list:n}).then((function(e){zt.saveGroupInfo(e),se("onGroupListUpdate"),ue.saveUnreadRecent(t,"group")})):ue.saveUnreadRecent(t,"group")};oe("imRosterAdded",(function(t){var e=t.payload,n=e.to,r=void 0===n?[]:n,o=e.from,i=ee.getUid();1===r.length&&Lt(r[0].uid)===i&&(_i([Lt(o.uid)]),ye.saveRosterList(Lt(o.uid)),se("onRosterListUpdate",t))})),oe("imRosterRemoved",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=ee.getUid();if(Lt(n.uid)===i&&1===o.length){var s=Lt(o[0].uid);ye.removeRoster(s),de.saveNotice(t),ue.deleteRecentById(s),le.deleteRosterMessageByRosterId(s),se("onRosterRemoved",t)}})),oe("imRosterApplied",(function(t){se("onRosterApplied",t)})),oe("imRosterAccepted",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=ee.getUid(),s=Lt(n.uid);if(1===o.length){var a=Lt(o[0].uid);s===i?(de.removeNotice(t),ye.saveRosterList(a),_i(a)):a===i&&(ye.saveRosterList(s),_i(s)),se("onRosterAccepted",t)}})),oe("imRosterDeclined",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=ee.getUid(),s=Lt(n.uid);if(1===o.length){var a=Lt(o[0].uid);s===i?(de.removeNotice(t),de.saveNotice(t)):a===i&&de.saveNotice(t),se("onRosterDeclined",t)}})),oe("imRrosterBaned",(function(t){se("onRosterNotice",t)})),oe("imRosterUnbaned",(function(t){se("onRosterNotice",t)})),oe("imRosterInfoUpdated",(function(t){var e=t.payload,n=e.from,r=e.content,o=void 0===r?"{}":r,i=Lt(n.uid),s={};try{s=JSON.parse(o)}catch(t){}if(Object.keys(s).length){var a=Object.assign({},ye.getRosterInfo(i),s);ye.saveRosterInfo([a]),se("onRosterInfoUpdate"),se("onRosterListUpdate")}})),oe("imGroupCreated",(function(t){var e=t.payload,n=e.gid,r=e.from,o=ee.getUid(),i=Lt(n.uid),s=Lt(r.uid);zt.saveJoinedGroups(i),s!==o&&_i(s),Ei(i),se("onGroupListUpdate",t),se("onGroupCreated",t)})),oe("imGroupDestoryed",(function(t){var e=t.payload,n=e.gid,r=e.from,o=ee.getUid(),i=Lt(n.uid),s=Lt(r.uid);s!==o&&_i(s),zt.removeGroup(i),de.saveNotice(t),ue.deleteRecentById(n),le.deleteGroupMessageByGid(n),se("onGroupListUpdate"),se("onGroupDestoryed",t)})),oe("imGroupJoined",(function(t){var e=t.payload,n=e.gid,r=e.from,o=e.to,i=void 0===o?[]:o,s=Lt(r.uid),a=ee.getUid(),u=Lt(n.uid),c=[];i.forEach((function(t){c.push(Lt(t.uid))})),s===a?(zt.saveJoinedGroups(u),Ei(u),se("onGroupListUpdate")):(Oi(u,s,!0),_i(s),se("onGroupMemberChanged",u)),se("onGroupJoined",t)})),oe("imGroupApplyed",(function(t){var e=t.payload.from,n=Lt(e.uid);n!==ee.getUid()&&(_i([n]),de.saveNotice(t))})),oe("imGroupApplyAccepted",(function(t){var e=t.payload,n=e.gid,r=e.from,o=e.to,i=void 0===o?[]:o,s=Lt(r.uid),a=ee.getUid(),u=Lt(n.uid),c=[];i.forEach((function(t){c.push(Lt(t.uid))})),s===a?(de.removeNotice(t),_i(c),Oi(u,c,!0),se("onGroupMemberChanged",u)):(zt.saveJoinedGroups(u),Ei(u),_i(s),se("onGroupListUpdate")),se("onGroupApplyAccepted",t)})),oe("imGroupApplyDeclined",(function(t){var e=t.payload,n=e.from,r=e.to,o=Lt(n.uid),i=ee.getUid(),s=[];r.forEach((function(t){s.push(Lt(t.uid))})),o===i?_i(s):de.saveNotice(t),se("onGroupApplyDeclined",t)})),oe("imGroupInvited",(function(t){var e=t.payload,n=e.gid,r=e.from,o=e.to,i=void 0===o?[]:o,s=Lt(r.uid),a=ee.getUid(),u=Lt(n.uid),c=[];i.forEach((function(t){c.push(Lt(t.uid))})),s===a?_i(c):c.findIndex((function(t){return t===a}))>-1?(_i(s),Ei(u),de.saveNotice(t)):_i(c),se("onGroupNotice",t)})),oe("imGroupInvitedAccepted",(function(t){var e=t.payload,n=e.gid,r=e.from,o=e.to,i=void 0===o?[]:o,s=Lt(r.uid),a=ee.getUid(),u=Lt(n.uid),c=[];i.forEach((function(t){c.push(Lt(t.uid))})),s===a?(de.removeNotice(t),zt.saveJoinedGroups(u),Ei(u),se("onGroupListUpdate")):(Oi(u,s,!0),_i(s),se("onGroupMemberChanged",u)),se("onGroupInvitedAccepted",t)})),oe("imGroupInvitedDeclined",(function(t){var e=t.payload,n=e.gid,r=e.from,o=Lt(r.uid),i=ee.getUid(),s=Lt(n.uid);o===i?(de.removeNotice(t),de.saveNotice(t),Ei(s)):_i(o),se("onGroupInvitedDeclined",t)})),oe("imGroupKicked",(function(t){var e=(t=Object.assign({},t)).payload,n=e.gid,r=e.to,o=void 0===r?[]:r,i=ee.getUid(),s=Lt(n.uid),a=[];o.forEach((function(t){a.push(Lt(t.uid))})),a.findIndex((function(t){return t===i}))>-1?(zt.removeGroup(s),de.saveNotice(t),ue.deleteRecentById(n),le.deleteGroupMessageByGid(n),se("onGroupListUpdate")):Ci(s,a)})),oe("imGroupLeaved",(function(t){var e=(t=Object.assign({},t)).payload,n=e.gid,r=e.from,o=Lt(r.uid),i=ee.getUid(),s=Lt(n.uid),a=[o];o===i?(zt.removeGroup(s),de.saveNotice(t),ue.deleteRecentById(n),le.deleteGroupMessageByGid(n),se("onGroupListUpdate")):Ci(s,a),se("onGroupLeaved",t)})),oe("imGroupBlocked",(function(t){var e=t.payload,n=e.gid,r=e.to,o=void 0===r?[]:r,i=ee.getUid(),s=Lt(n.uid),a=[];o.forEach((function(t){a.push(Lt(t.uid))})),a.findIndex((function(t){return t===i}))>-1?(zt.removeGroup(s),de.saveNotice(t),ue.deleteRecentById(n),le.deleteGroupMessageByGid(n),se("onGroupListUpdate")):(_i(a),Ci(s,a))})),oe("imGroupUnblocked",(function(t){var e=t.payload.to,n=[];(void 0===e?[]:e).forEach((function(t){n.push(Lt(t.uid))})),_i(n)})),oe("imGroupOwnerAssigned",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=Lt(n.uid),s=ee.getUid(),a=[];o.forEach((function(t){a.push(Lt(t.uid))})),i!==s&&a.push(i),_i(a),se("onGroupOwnerAssigned",t)})),oe("imGroupAdminGranted",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=Lt(n.uid),s=ee.getUid(),a=[];o.forEach((function(t){a.push(Lt(t.uid))})),i!==s&&a.push(i),_i(a),se("onGroupAdminGranted",t)})),oe("imGroupAdminRevoked",(function(t){var e=t.payload,n=e.from,r=e.to,o=void 0===r?[]:r,i=Lt(n.uid),s=ee.getUid(),a=[];o.forEach((function(t){a.push(Lt(t.uid))})),i!==s&&a.push(i),_i(a),se("onGroupAdminRevoked",t)})),oe("imGroupMuted",(function(t){se("onGroupMuted",t)})),oe("imGroupUnblocked",(function(t){se("onGroupUnblocked",t)})),oe("imGroupBaned",(function(t){se("onGroupBaned",t)})),oe("imGroupUnbaned",(function(t){se("onGroupUnbaned",t)})),oe("imGroupInfoUpdated",(function(t){var e=t.payload,n=e.gid,r=e.content,o=void 0===r?"{}":r,i=Lt(n.uid),s={};try{s=JSON.parse(o)}catch(t){}if(Object.keys(s).length){var a=Object.assign({},zt.getGroupInfo(i),s);zt.saveGroupInfo([a]),se("onGroupListUpdate")}})),oe("imGroupAnnouncementUpdated",(function(t){var e=t.payload.gid,n=Lt(e.uid);Ei(n,!0),se("onGroupAnnouncementUpdated",t)})),oe("imReadRosterMessage",(function(t){var e=t.roster_id,n=t.mid,r=t.isReceived,o=!1;if(n){var i=le.getRosterMessageById(e,n);if(Ri(i)&&!r){o=!0;var s=Jr(e,n);se("sendMessage",s)}}else{var a;if(le.getRosterMessage(e).forEach((function(t){if(Ri(t)&&!r){o=!0;var n=Jr(e,t.id);se("sendMessage",n)}a=t.id})),!r&&o){var u=Yr(e,a);se("sendMessage",u)}}o&&se("onUnreadChange",e)}));var Ri=function(t){var e=!1,n=Ti(t,Mt.READ);if(t&&n){var r=ee.getUid(),o=Lt(t.from);o>0&&o!=r&&(e=!0)}return e},Ti=function(t,e){var n=!1;if(t&&t.status!=e){var r=t;r.status=e,le.saveRosterMessage(Gt(r)),n=!0}return n};oe("imReadGroupMessage",(function(t){var e=t.group_id,n=t.mid,r=t.isReceived,o=!1;if(n){var i=le.getGroupMessageById(e,n);if(xi(i)&&!r){o=!0;var s=Ft(i.from),a=Jr(s,n);se("sendMessage",a)}}else{var u,c=le.getGroupMessage(e);if(c.forEach((function(t){if(xi(t)&&!r){o=!0;var e=Ft(t.from),n=Jr(e,t.id);se("sendMessage",n)}u=t.id})),le.saveFormatedGroupMessage(e,c),!r&&o){var f=Yr(e,u);se("sendMessage",f)}}o&&se("onUnreadChange",e)}));var xi=function(t){var e=!1,n=Ii(t,Mt.READ);if(t&&n){var r=ee.getUid(),o=Lt(t.from);o>0&&o!=r&&t.config&&t.config.groupMemberList&&(e=!0)}return e},Ii=function(t,e){var n=!1;if(t&&t.status!=e){var r=t;r.status=e,le.saveGroupMessage(Gt(r)),n=!0}return n},Di=function(t,e){var n=[];(n=e?le.getGroupMessage(t):le.getRosterMessage(t)).length>0&&ue.saveRecent(n[n.length-1])};oe("onActionMessage",(function(t){var e=t.payload,n=t.from,r=t.to,o=t.isReceived,i=e.type,s=e.operation,a=void 0===s?{}:s,u=ee.getUid()+"",c=r?Ft(r.uid):0,f=Ft(n.uid),p=u+""==f+""?c:f,l=-1!=zt.getJoinedGroups().indexOf(c-0);if(i===Ot.OPER){var d,h=a.type,y=a.mid,g=a.xid;d=l?le.getGroupMessageById(p,y):le.getRosterMessageById(p,y),h===Ct.READ_ACK?(!l&&Ri(d),l&&xi(d)):h===Ct.DELIVER_ACK?(!l&&Ti(d,Mt.DELIVERED),l&&Ii(d,Mt.DELIVERED)):h===Ct.RECALL?(!l&&le.deleteSingleRosterMessage(p,y),l&&le.deleteSingleGroupMessage(p,y),Di(p,l),se("onMessageRecalled",{uid:p,mid:y})):h===Ct.DELETE?(!l&&le.deleteSingleRosterMessage(g.uid,y),l&&le.deleteSingleGroupMessage(g.uid,y),Di(g.uid,l),se("onMessageDeleted",{uid:g.uid,mid:y})):h===Ct.READ_CANCEL?(!l&&Ti(d,Mt.UNREAD),l&&Ii(d,Mt.UNREAD),se("onMessageCanceled",{uid:p,mid:y})):h===Ct.READ_ALL&&(l?se("imReadGroupMessage",{group_id:g.uid,mid:y,isReceived:o}):se("imReadRosterMessage",{roster_id:g.uid,mid:y,isReceived:o}));var v=Ft(g&&g.uid?g.uid:p);se("onMessageStatusChanged",{uid:v,mid:Ft(y)}),se("onUnreadChange",v)}}));var Ui={};oe("swapSendMessage",(function(t){var e=t.payload.meta.id;Ui[Ft(e)]=t})),oe("receivedSendMessage",(function(t){t=Ft(t);var e=Ui[t];if(e){var n=e.payload.meta;n.payload.type===Ot.OPER&&se("onActionMessage",n)}})),oe("deleteConversation",(function(t){var e=t.id,n=t.source;se("flooNotice",{category:"conversation_deleted",desc:{id:e,source:n}});var r=ue.getRecentById(e),o=r.idx,i=r.type;o<0||("group"==i?le.deleteGroupMessageByGid(e):le.deleteRosterMessageByRosterId(e),ue.deleteRecentById(e))}));var Mi=Oi,Pi={asyncGetGroupInfo:function(t,e){t-=0;var n=zt.getGroupInfo(t)||{};return n.name&&!e?Promise.resolve(n):yi.groupInfo({group_id:t}).then((function(t){return zt.saveGroupInfo([t]),t}))},asyncGetJoinedGroups:function(t){return t?yi.groupUserjoined({}).then((function(t){return Array.isArray(t)?t:zt.getGroupInfoList()})):Promise.resolve(zt.getGroupInfoList())},openGroup:function(t){yi.groupMemberlist({group_id:t}).then((function(e){zt.saveGroupMembers(t,e);var n=e.map((function(t){return t.user_id}));n.length&&Mi(t,n,!1,!0),se("onGroupMemberChanged",t)}))},getAllGroupDetail:function(){return zt.getAllGroupInfos()},asyncGetGroupMembers:function(t){return yi.groupMemberlist({group_id:t}).then((function(e){zt.saveGroupMembers(t,e);var n=e.map((function(t){return t.user_id}));return n.length&&Mi(t,n,!1,!0),n}))},getGroupMembers:function(t){return zt.getGroupMembers(t)||[]},asyncGetGroupListDetail:function(t){return t&&t.length?yi.groupInfoBatch({group_list:t}).then((function(t){return zt.saveGroupInfo(t),t})):Promise.resolve({})},getGruopMessage:function(t){return le.getGroupMessage(t)},readGroupMessage:function(t,e){se("imReadGroupMessage",{group_id:t,mid:e})},recallMessage:function(t,e){var n=Kr(t,e);se("sendMessage",n),se("swapSendMessage",n)},getUnreadCount:function(t){return le.getUnreadByGroupId(t)},asyncGetAdminList:yi.groupAdminList,asyncAdminAdd:yi.groupAdminAdd,asyncAdminRemove:yi.groupAdminRemove,asyncGetAnouncementById:yi.groupAnnouncement,asyncAnouncementDelete:yi.groupAnnouncementDelete,asyncAnnouncementEdit:yi.groupAnnouncementEdit,asyncGetAnnouncementList:yi.groupAnnouncementList,asyncCreate:yi.groupCreate,asyncDestroy:yi.groupDestroy,asyncGetInfo:function(t){return t.group_id||(t={group_id:t}),yi.groupInfo(t)},asyncUpdateAvatar:yi.groupInfoAvatar,asyncUpdateDescription:yi.groupInfoDdscription,asyncUpdateExt:yi.groupInfoExt,asyncUpdateName:yi.groupInfoName,asyncGetMemberList:function(t){return t.group_id||(t={group_id:t}),yi.groupMemberlist(t)},asyncGroupMsgMutemode:yi.groupMsgMutemode,asyncGetPublicList:yi.groupPubliclist,asyncUpdateMsgNotDisturb:yi.groupMsgNotdisturb,asyncGroupBannedList:yi.groupBannedList,asyncGroupBab:yi.groupBab,asyncGroupUnban:yi.groupUnban,asyncGetSettings:yi.groupSettings,asyncUpdateAllowMemberInvitation:yi.groupSettingsAllowmemberinvitation,asyncUpdateAllowMemberModify:yi.groupSettingsAllowmembermodify,asyncUpdateEnableReadack:yi.groupSettingsEnablereadack,asyncUpdateHistoryVisible:yi.groupSettingsHistoryvisible,asyncUpdateRequireadminapproval:yi.groupSettingsRequireadminapproval,asyncBanAll:yi.groupSettingsBanAll,asyncUnBanAll:yi.groupSettingsUnBanAll,asyncOwnerTransfer:yi.groupTransfer,asyncGetUserJoined:yi.groupUserjoined,asyncApply:yi.groupApply,asyncApplyHandle:yi.groupApplyHandle,asyncGroupBockedlist:yi.groupBockedlist,asyncGroupBlock:yi.groupBlock,asyncGroupUnblock:yi.groupUnblock,asyncKick:yi.groupKick,asyncGetInvitationList:yi.groupInvitationlist,asyncInvite:yi.groupInvite,asyncInviteHandle:yi.groupInviteHandle,asyncGetMemberDisplayName:yi.groupMembersDidpayname,asyncLeave:yi.groupLeave,asyncUpdateDisplayName:yi.groupDisplayname,asncGetApplicationList:yi.groupApplicationlist,asyncGetFileList:yi.groupFilelist,asyncFileDelete:yi.groupFiledelete,asyncFileUpload:yi.groupFileupload},Bi={getToken:function(){return ee.getToken()},getUid:function(){return ee.getUid()},getAppid:function(){return ee.getAppid()},getConversationList:function(){return ue.getRecents()},deleteToken:ee.deleteToken,getDeviceSN:function(){return ee.getDeviceSN()},asyncBindDeviceToken:yi.bindDeviceToken,asyncUnbindDeviceToken:yi.unbindDeviceToken,asyncTokenUser:yi.tokenUser,asyncTokenId:yi.tokenId,asyncRegister:yi.userRegister,asyncUserBindMobile:yi.userBindMobile,asyncUserUpdateMobile:yi.userUpdateMobile,asyncUserSendSms:yi.userSendSms,asyncCaptchaSms:yi.captchaSms,asyncUserNameCheck:yi.userNameCheck,asyncUserMobileBind:yi.userMobileBind,asyncUserMobileBindSign:yi.userMobileBindSign,asyncUserMobileLogin:yi.userMobileLogin,asyncCaptchaImagePost:yi.captchaImagePost,asyncUpdateAuthmode:yi.userAuthmode,asyncUpdateAvatar:yi.userAvatar,asyncUpdateMobile:yi.userMobile,asyncUpdateNickName:yi.userNickname,asyncGetProfile:yi.userProfile,asyncUpdateProfile:yi.userProfilePost,asyncGetSettings:yi.userSettings,asyncUpdateSettings:yi.userSettingsPost},Li=(n(274),function(t,e){return e&&t?t+"_"+e:""}),ji=function(t){if(!t)return{};var e=Vi("ws"),n=Gi(t),r=n.clusters,o=n.clusterIndex,i=n.ratelIndex,s=n.fireIndex;if(!r||!r.length)return{};var a,u=r[o],c=u.ratel[i];if(a=u.webim?u.webim[s]:u.ws[s],!c||!a)return{};return{ratel:c.protocol+"://"+c.host,fireplace:(e?"https"===a.protocol?"wss":"ws":a.protocol)+"://"+a.host}};oe("ratelError",(function(){ft.log("Ratel error, should try next in list");var t=Vi("app_id");!function(t){var e=Gi(t),n=e.clusters,r=e.clusterIndex,o=e.ratelIndex,i=e.fireIndex;n[r].ratel.length>o+1?(o++,qi(t,{clusters:n,clusterIndex:r,ratelIndex:o,fireIndex:i})):Fi(t)}(t);var e=(ji(t)||{}).ratel;se("refresh_ratel",e)}));oe("fireplaceError",(function(){var t=Vi("app_id");ft.log("Fireplace error, should try next in list, appid: ",t),function(t){var e=Gi(t),n=e.clusters,r=e.clusterIndex,o=e.ratelIndex,i=e.fireIndex,s=n[r];(s.webim?s.webim:s.ws).length>i+1?(i++,qi(t,{clusters:n,clusterIndex:r,ratelIndex:o,fireIndex:i})):Fi(t)}(t);var e=(ji(t)||{}).fireplace;se("refresh_fireplace",e)}));var Fi=function(t){for(var e=Gi(t),n=e.clusters,r=e.clusterIndex;n.length>r+1;){var o=n[++r];if((o.webim?o.webim:o.ws).length>=0)return void qi(t,{clusters:n,clusterIndex:r,ratelIndex:0,fireIndex:0})}se("retrieve_dns")},Gi=function(t){return Kt(Li("key_dns_infos",t),!1)||{}},qi=function(t,e){Jt(Li("key_dns_infos",t),e,!1)},Vi=function(t){return t?Kt(Li("key_dns_config",t),!1):""},Ji=function(t,e){t&&e&&Jt(Li("key_dns_config",t),e,!1)};oe("retrieve_dns",(function(){var t=Vi("dns_server"),e=Vi("app_id"),n=Vi("ws");ft.warn("Retrieve DNS for appid: ",e),Ki(t,e,n)}));var Ki=function(t,e,n){Ji("dns_server",t),Ji("app_id",e),Ji("ws",n);var r=ji(e);return r.ratel?Promise.resolve(r):Oe(t,{app_id:e}).then((function(t){return ft.info("DNS SUCCESS: ",t),function(t,e){if(!t)return{};var n=e.version,r=e.dns_list,o=r.findIndex((function(t){return 0==t.group_level}));if(o<0)return ft.error("DNS ERROR: no available clusters (version:",n,")"),{};var i={clusters:r[o].clusters,clusterIndex:0,ratelIndex:0,fireIndex:0};qi(t,i)}(e,t),ji(e)}))},Yi={asyncGetDns:Ki,getServers:ji},Wi=function(t){var e=t.url,n=void 0===e?"":e,r=t.params,o=void 0===r?{}:r;if(!n)return"";var i=ee.getToken(),s=ee.getAppid();return o=Object.assign(o,{"access-token":i,app_id:s}),n.indexOf("?")>0?n+="&":n+="?",n+ve.a.stringify(o)},Hi=function(t){var e=t.url,n=void 0===e?"":e,r=t.type,o=void 0===r?"":r,i=t.params,s=void 0===i?{}:i,a=t.processCallback,u=void 0===a?void 0:a;if(console.log("Download chat file: ",o," ",n),!n)return"";return yi.fileDownloadChatFileUrl(n,s,{operation:"download_file"},u)},zi={getStaticVars:function(){return r},sendRosterMessage:function(t){var e=Vr(t),n=e.payload.meta;return le.saveSendingRosterMessage(n),yi.sendMessage(e),n.id},sendGroupMessage:function(t){var e=qr(t),n=e.payload.meta;return le.saveSendingGroupMessage(n),yi.sendMessage(e),n.id},sendMentionMessage:function(t){var e=function(t){var e=t.gid,n=t.txt,r=t.mentionAll,o=t.mentionList,i=t.mentionedMessage,s=t.pushMessage,a=t.senderNickname,u=Nt.TEXT,c=new Or({uid:ee.getUid()-0,deviceSN:jr}),f=new Or({uid:e,deviceSN:0}),p=new Rr;p.setCommond(bt.SYNC);var l=new Ur,d=new Nr({from:c,to:f,content:n,ctype:u,type:Ot.GROUPCHAT});d.config=JSON.stringify({mentionAll:r,mentionList:o,mentionedMessage:i,pushMessage:s,senderNickname:a});var h=new Pr({id:(new Date).getTime(),from:c,to:f,payload:d,ns:St.MESSAGE});return l.setMeta(h),p.setPayload(l),p}(t),n=e.payload.meta;return le.saveSendingGroupMessage(n),yi.sendMessage(e),n.id},sendInputStatusMessage:function(t,e){var n=function(t,e){var n=Nt.TEXT,r=new Or({uid:ee.getUid()-0,deviceSN:jr}),o=new Or({uid:t-0,deviceSN:0}),i=new Rr;i.setCommond(bt.SYNC);var s=new Ur,a=new Nr({from:r,to:o,ctype:n,type:Ot.CHAT,ext:JSON.stringify({input_status:e}),qos:kt.AT_MOST_ONCE}),u=new Pr({id:(new Date).getTime(),from:r,to:o,payload:a,ns:St.MESSAGE});return s.setMeta(u),i.setPayload(s),i}(t,e),r=n.payload.meta;return yi.sendMessage(n),r.id},sendMessage:yi.sendMessage,getNoticeMessage:de.getNotice(),getMessageStatus:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};r=n?le.getGroupMessageById(t,e):le.getRosterMessageById(t,e);var o=Object.keys(Mt)[r.status];return o?o.toLowerCase():void 0},forwardMessage:function(t){var e=t.uid,n=t.mid,r=t.gid,o=void 0,i=(o=e?le.getRosterMessageById(e,n):le.getGroupMessageById(r,n)).attach;if(!i||!i.url){var s=Wr(e,r,o),a=s.payload.meta;return e?le.saveSendingRosterMessage(a):le.saveSendingGroupMessage(a),yi.sendMessage(s),a.id}var u=i.url.split("sign=")[1],c=ee.getToken();yi.fileForward({file_sign:u,"access-token":c,to_id:(e||r)-0,to_type:e?1:2}).then((function(t){o.attach.url=t;var n=Wr(e,r,o),i=n.payload.meta;return e?le.saveSendingRosterMessage(i):le.saveSendingGroupMessage(i),yi.sendMessage(n),i.id}))},asyncFileUpload:function(t){return new Promise((function(e,n){var r=t.group_id,o=t.to_id,i=t.toType,s=t.file,a=t.fileType,u=t.chatType,c=t.processCallback,f="";f="rosterAvatar"===i?"fileUploadAvatarUrl":"chat"==i?"fileUploadChatFileUrl":"fileUploadGroupAvatarUrl";var p={},l=ee.getToken();"groupAvatar"===i&&(p["access-token"]=l);a&&(p.file_type=["file","audio","image","video","audio-mp3"].indexOf(a)+100),p<100&&(p.file_type=["shareFile","shareAudio","shareImage","shareVideo"].indexOf(a)+200),r&&(p.group_id=r),"group"==u&&(p.to_type=2),"roster"==u&&(p.to_type=1),o&&(p.to_id=o),yi[f](p).then((function(t){var n=new FormData;t.oss_body_param&&t.oss_body_param.key&&(n.append("OSSAccessKeyId",t.oss_body_param.OSSAccessKeyId),n.append("policy",t.oss_body_param.policy),n.append("signature",t.oss_body_param.signature),n.append("callback",t.oss_body_param.callback),n.append("key",t.oss_body_param.key)),n.append("file",s);yi.asyncFileUpload(t.upload_url,n,{headers:{"Content-Type":"multipart/form-data"}},c).then((function(){e({url:t.download_url})})).catch((function(t){ft.error("Fail to upload file due to ",t)}))})).catch((function(t){n(t)}))}))},requireHistoryMessage:function(t,e,n){var r=function(t,e,n){e=jt(e);var r=new Rr;r.setCommond(bt.SYNC);var o=new Or({uid:Lt(t),deviceSN:0}),i=new Ur;return i.setXid(o),i.setKey(Lt(e)),i.setFullsyncnum(n),i.setIsfullsync(!0),r.setPayload(i),r}(t,e,n);yi.sendMessage(r)},makeSearch:function(t){var e=[],n=[];return(ye.getRosterInfoList()||[]).forEach((function(n){var r=!1,o=n.user_id,i=n.username,s=n.avatar;(le.getRosterMessage(o)||[]).forEach((function(n){if(!r){var a=n.payload,u=(void 0===a?{}:a).content,c=void 0===u?"":u;c.indexOf(t)>=0&&(r=!0,e.push({user_id:o,username:i,avatar:s,content:c}))}})),r||i.indexOf(t)>=0&&e.push({user_id:o,username:i,avatar:s})})),zt.getGroupInfoList().forEach((function(e){var r=!1,o=e.group_id,i=e.name;(le.getGroupMessage(o)||[]).forEach((function(e){if(!r){var s=e.payload,a=(void 0===s?{}:s).content,u=void 0===a?"":a;u.indexOf(t)>=0&&(r=!0,n.push({group_id:o,name:i,content:u}))}})),r||i.indexOf(t)>=0&&n.push({group_id:o,name:i})})),{rosterArr:e,groupArr:n}},asyncGetUserAvatarUploadUrl:yi.fileUploadAvatarUrl,asyncGetGroupAvatarUploadUrl:yi.fileUploadGroupAvatarUrl,asyncGetFileUploadChatFileUrl:yi.fileUploadChatFileUrl,asyncQrcode:yi.qrcode,asyncQrlogin:yi.qrlogin,asyncQrcodeGroupsign:yi.qrcodeGroupsign,asyncQrcodeGroupinvite:yi.qrcodeGroupinvite,asyncWxlogin:yi.wxlogin,asyncWxbind:yi.wxbind,asyncGetStaticContact:yi.getStaticContact,getImage:function(t){var e=t.avatar,n=void 0===e?"":e,r=t.type,o=void 0===r?"roster":r,i=t.thumbnail,s=void 0===i||i,a=t.sdefault,u=void 0===a?"":a;if(/^\//.test(n))return n;if(!n)return"roster"===o?u||"/image/roster.png":u||"/image/group.png";var c=n,f={};if(0!==n.indexOf("http")){var p=ee.getAppid(),l=(Yi.getServers(p)||{}).ratel;!/\/$/.test(l)&&l.length>5&&(c=l+"/file/download/avatar"),f=Object.assign(f,{object_name:n})}return s&&(f=Object.assign(f,{image_type:2})),Wi({url:c,type:"image",params:f})},getAudio:function(t){var e=t.url,n=t.type;return Wi({url:e,type:void 0===n?"audio":n,params:{format:"mp3"}})},getChatFile:Wi,downloadAudio:function(t){var e=t.url,n=void 0===e?"":e,r=t.type,o=void 0===r?"audio":r,i=t.processCallback;return Hi({url:n,type:o,params:{format:"mp3"},processCallback:void 0===i?void 0:i})},getServers:Yi.getServers,asyncWechatUnbind:yi.wechatUnbind,asyncWechatIsbind:yi.wechatIsbind,asyncWechatBind:yi.wechatBind,deleteConversation:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];se("deleteConversation",{id:t,other_devices:e,source:"user_operation"});var n=Hr(t,e);yi.sendMessage(n)}},Xi={},$i=null,Zi=!1,Qi=!1,ts=function t(e){var n=e.autoLogin,r=void 0===n||n,o=e.dnsServer,i=void 0===o?"https://dns.lanyingim.com/v2/app_dns":o,s=e.appid,a=void 0===s?"welovemaxim":s,u=e.ws,c=void 0!==u&&u,f=e.logLevel,p=void 0===f?"debug":f;ft.setLogLevel(p),ee.saveAppid(a),Yi.asyncGetDns(i,a,c).then((function(e){var n=e.ratel,o=e.fireplace;if(!n||!o)return ft.log("DNS error, check the server: ",i),void se("flooError",{category:"DNS_FAILED",desc:i});if(es(a),t.baseUrl=(Xi={appid:a,baseUrl:n,autoLogin:r,fireplace:o}).baseUrl,Zi=!0,$i){var s=$i.type;return"login"==s&&t.login($i.opt),"qrlogin"==s&&t.qrlogin($i.opt),void("tokenLogin"==s&&t.tokenLogin($i.user_id,$i.token))}if(Xi.autoLogin){Qi=!0;var u=ee.getUid(),c=ee.getToken();if(u&&c){var f=gi.asyncGetRosterIdList(!0),p=Pi.asyncGetJoinedGroups(!0);Promise.all([f,p]).then((function(t){var e=t[0],n=t[1];se("imRostersGroupslistReady",{rosters:e,groups:n}),ft.log("get roster, group over .... will io connect"),yi.connect(Xi)})).catch((function(t){se("flooNotice",{category:"loginMessage",desc:"get roster list failure:"+t.message})}))}}})).catch((function(t){console.log("flooim init error, please retry later: ",t)}))},es=function(t){ft.log("setup servers for app: ",t);var e=Yi.getServers(t)||{},n=e.ratel,r=e.fireplace;se("refresh_ratel",n),se("refresh_fireplace",r)};ts.login=function(t){console.log("webim.login",t,"sdkOk:",Zi),Zi?(se("flooNotice",{category:"loginMessage",desc:"getting token..."}),yi.tokenUser(t).then((function(t){var e=t.token,n=t.user_id,r=t.public_key;ee.saveUid(n),ee.saveToken(e),ee.saveAesKey(r);var o=gi.asyncGetRosterIdList(!0),i=Pi.asyncGetJoinedGroups(!0);console.log("Get token success"),Qi=!0,se("flooNotice",{category:"loginMessage",desc:"token sucecc, getting roster lists.."}),Promise.all([o,i]).then((function(t){var r=t[0],o=t[1];se("imRostersGroupslistReady",{rosters:r,groups:o}),ft.log("get roster, group over .... will io connect"),Xi=Object.assign({uid:n,token:e},Xi),yi.connect(Xi),$i=null})).catch((function(t){se("flooNotice",{category:"loginMessage",desc:"get roster list failure:"+t.message})}))})).catch((function(t){se("loginFail","token failure:"+t.message)}))):$i={type:"login",opt:t}},ts.qrlogin=function(t){console.log("webim.qrlogin",t),Zi?(se("flooNotice",{category:"loginMessage",desc:"getting token..."}),yi.tokenId(t).then((function(t){var e=t.token,n=t.user_id,r=t.public_key;ee.saveUid(n),ee.saveToken(e),ee.saveAesKey(r);var o=gi.asyncGetRosterIdList(!0),i=Pi.asyncGetJoinedGroups(!0);se("flooNotice",{category:"loginMessage",desc:"token sucecc, getting roster lists.."}),Qi=!0,Promise.all([o,i]).then((function(t){var r=t[0],o=t[1];se("imRostersGroupslistReady",{rosters:r,groups:o}),ft.log("get roster, group over .... will io connect"),Xi=Object.assign({uid:n,token:e},Xi),yi.connect(Xi),$i=null})).catch((function(t){se("flooNotice",{category:"loginMessage",desc:"get roster list failure:"+t.message})}))})).catch((function(t){se("loginFail","token failure:"+t.message)}))):$i={type:"qrlogin",opt:t}},ts.tokenLogin=function(t,e,n){if(console.log("webim.tokenLogin",t),Zi){ee.saveUid(t),ee.saveToken(e),ee.saveAesKey(n);var r=gi.asyncGetRosterIdList(!0),o=Pi.asyncGetJoinedGroups(!0);se("flooNotice",{category:"loginMessage",desc:"token sucecc, getting roster lists.."}),Qi=!0,Promise.all([r,o]).then((function(n){var r=n[0],o=n[1];se("imRostersGroupslistReady",{rosters:r,groups:o}),ft.log("get roster, group over .... will io connect"),Xi=Object.assign({uid:t,token:e},Xi),yi.connect(Xi),$i=null})).catch((function(t){se("flooNotice",{category:"loginMessage",desc:"get roster list failure:"+t.message})}))}else $i={type:"tokenLogin",user_id:t,token:e}},ts.idLogin=function(t){yi.tokenId(t).then((function(t){var e=t.token,n=t.user_id,r=t.public_key;ee.saveUid(n),ee.saveToken(e),ee.saveAesKey(r);var o=gi.asyncGetRosterIdList(!0),i=Pi.asyncGetJoinedGroups(!0);se("flooNotice",{category:"loginMessage",desc:"token success, getting roster lists.."}),Qi=!0,Promise.all([o,i]).then((function(t){var r=t[0]||[];r.push(n);var o=t[1];se("imRostersGroupslistReady",{rosters:r,groups:o}),ft.log("get roster, group over .... will io connect"),Xi=Object.assign({uid:n,token:e},Xi),yi.connect(Xi),$i=null})).catch((function(t){se("flooNotice",{category:"loginMessage",desc:"get roster list failure:"+t.message})}))})).catch((function(t){se("loginFail","token failure:"+t.message)}))},ts.wxlogin=function(){},ts.cleanup=function(){ft.log("FLOO: IM logout, cleanup the data."),ue.clear(),ye.clear(),zt.clear(),ee.clear(),le.clearAll()},ts.isLogin=function(){return Qi&&ee.getUid()&&ee.getToken()},ts.on=ts.listen=function(t,e){e?oe(t,e):Object.keys(t).forEach((function(e){oe(e,t[e])}))},ts.off=function(t,e){e?ie(t,e):Object.keys(t).forEach((function(e){ie(e,t[e])}))},ts.logout=function(){yi.disConnect(),ts.cleanup(),window.location.reload()},ts.isReady=function(){return Zi},ts.setLogLevel=function(t){ft.setLogLevel(t)},ts.disConnect=yi.disConnect;var ns=ts;function rs(t){return new ns(t),ns}ns.rosterManage=gi,ns.groupManage=Pi,ns.userManage=Bi,ns.sysManage=zi;e.default=rs;window.flooIM=function(t){return rs(t)}}])}));